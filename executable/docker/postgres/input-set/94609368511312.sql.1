CREATE TYPE priv_testtype1 AS (a int, b text);
;REVOKE USAGE ON TYPE priv_testtype1 FROM PUBLIC;
;GRANT USAGE ON TYPE priv_testtype1 TO regress_priv_user2;
;GRANT USAGE ON TYPE _priv_testtype1 TO regress_priv_user2;
;GRANT USAGE ON DOMAIN priv_testtype1 TO regress_priv_user2;
;CREATE DOMAIN priv_testdomain1 AS int;
;REVOKE USAGE on DOMAIN priv_testdomain1 FROM PUBLIC;
;GRANT USAGE ON DOMAIN priv_testdomain1 TO regress_priv_user2;
;GRANT USAGE ON TYPE priv_testdomain1 TO regress_priv_user2;
;SET SESSION AUTHORIZATION regress_priv_user1;
;CREATE AGGREGATE priv_testagg1a(priv_testdomain1) (sfunc = int4_sum, stype = bigint);
;CREATE DOMAIN priv_testdomain2a AS priv_testdomain1;
;CREATE DOMAIN priv_testdomain3a AS int;
;CREATE FUNCTION castfunc(int) RETURNS priv_testdomain3a AS $$ SELECT $1::priv_testdomain3a $$ LANGUAGE SQL;
;CREATE CAST (priv_testdomain1 AS priv_testdomain3a) WITH FUNCTION castfunc(int);
;DROP FUNCTION castfunc(int) CASCADE;
;DROP DOMAIN priv_testdomain3a;
;CREATE FUNCTION priv_testfunc5a(a priv_testdomain1) RETURNS int LANGUAGE SQL AS $$ SELECT $1 $$;
;CREATE FUNCTION priv_testfunc6a(b int) RETURNS priv_testdomain1 LANGUAGE SQL AS $$ SELECT $1::priv_testdomain1 $$;
;CREATE OPERATOR !+! (PROCEDURE = int4pl, LEFTARG = priv_testdomain1, RIGHTARG = priv_testdomain1);
;CREATE TABLE test5a (a int, b priv_testdomain1);
;CREATE TABLE test6a OF priv_testtype1;
;CREATE TABLE test10a (a int[], b priv_testtype1[]);
;CREATE TABLE test9a (a int, b int);
;ALTER TABLE test9a ADD COLUMN c priv_testdomain1;
;ALTER TABLE test9a ALTER COLUMN b TYPE priv_testdomain1;
;CREATE TYPE test7a AS (a int, b priv_testdomain1);
;CREATE TYPE test8a AS (a int, b int);
;ALTER TYPE test8a ADD ATTRIBUTE c priv_testdomain1;
;ALTER TYPE test8a ALTER ATTRIBUTE b TYPE priv_testdomain1;
;CREATE TABLE test11a AS (SELECT 1::priv_testdomain1 AS a);
;REVOKE ALL ON TYPE priv_testtype1 FROM PUBLIC;
;SET SESSION AUTHORIZATION regress_priv_user2;
;CREATE AGGREGATE priv_testagg1b(priv_testdomain1) (sfunc = int4_sum, stype = bigint);
;CREATE DOMAIN priv_testdomain2b AS priv_testdomain1;
;CREATE DOMAIN priv_testdomain3b AS int;
;CREATE FUNCTION castfunc(int) RETURNS priv_testdomain3b AS $$ SELECT $1::priv_testdomain3b $$ LANGUAGE SQL;
;CREATE CAST (priv_testdomain1 AS priv_testdomain3b) WITH FUNCTION castfunc(int);
;CREATE FUNCTION priv_testfunc5b(a priv_testdomain1) RETURNS int LANGUAGE SQL AS $$ SELECT $1 $$;
;CREATE FUNCTION priv_testfunc6b(b int) RETURNS priv_testdomain1 LANGUAGE SQL AS $$ SELECT $1::priv_testdomain1 $$;
;CREATE OPERATOR !! (PROCEDURE = priv_testfunc5b, RIGHTARG = priv_testdomain1);
;CREATE TABLE test5b (a int, b priv_testdomain1);
;CREATE TABLE test6b OF priv_testtype1;
;CREATE TABLE test10b (a int[], b priv_testtype1[]);
;CREATE TABLE test9b (a int, b int);
;ALTER TABLE test9b ADD COLUMN c priv_testdomain1;
;ALTER TABLE test9b ALTER COLUMN b TYPE priv_testdomain1;
;CREATE TYPE test7b AS (a int, b priv_testdomain1);
;CREATE TYPE test8b AS (a int, b int);
;ALTER TYPE test8b ADD ATTRIBUTE c priv_testdomain1;
;ALTER TYPE test8b ALTER ATTRIBUTE b TYPE priv_testdomain1;
;CREATE TABLE test11b AS (SELECT 1::priv_testdomain1 AS a);
;REVOKE ALL ON TYPE priv_testtype1 FROM PUBLIC;
;