CREATE TABLE log(detail);
;CREATE TRIGGER t1_after_insert AFTER INSERT ON t1 BEGIN 
    INSERT INTO log VALUES('inserted into t1');
  END;
;CREATE TRIGGER t1_before_delete BEFORE DELETE ON t1 BEGIN 
    INSERT INTO log VALUES('deleting from t1');
    INSERT INTO log VALUES('here we go!');
  END;
;CREATE TRIGGER t1_after_update AFTER UPDATE ON t1 BEGIN 
    INSERT INTO log VALUES('update');
    DELETE FROM log;
  END;
;INSERT INTO t1 VALUES('a', 'b');
;-- 1 + 1
  UPDATE t1 SET b='c';
;-- 1 + 1 + 2
  DELETE FROM t1;
;-- 1 + 1 + 1

;INSERT INTO t1 VALUES(1, 2), (3, 4);
;INSERT INTO t2 VALUES(1, 2), (3, 4);
;
;SELECT count(*) FROM t1;
;
;CREATE TABLE t4(a, b);
;ALTER TABLE t4 ADD COLUMN c;
;CREATE INDEX i4 ON t4(c);
;ALTER TABLE t4 RENAME TO t5;
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;ANALYZE;
;SELECT tbl,idx,stat FROM 'main'.sqlite_stat1
;SELECT tbl,idx,stat FROM 'main'.sqlite_stat1
;BEGIN;
;DROP TABLE t2;
;ROLLBACK;
;VACUUM;
;ATTACH '' AS vacuum_db
;SELECT tbl,idx,stat FROM 'main'.sqlite_stat1
;SELECT tbl,idx,stat FROM 'main'.sqlite_stat1
;SELECT*FROM"vacuum_db".sqlite_master ORDER BY rowid
;SELECT*FROM"vacuum_db".sqlite_master ORDER BY rowid
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;BEGIN
;SELECT sql FROM "main".sqlite_schema WHERE type='table'AND name<>'sqlite_sequence' AND coalesce(rootpage,1)>0
;CREATE TABLE t1(a, b)
;SELECT*FROM"vacuum_db".sqlite_master WHERE tbl_name='t1' AND type!='trigger' ORDER BY rowid
;SELECT*FROM"vacuum_db".sqlite_master WHERE tbl_name='t1' AND type!='trigger' ORDER BY rowid
;CREATE TABLE t2(x, y, PRIMARY KEY(x, y)) WITHOUT ROWID
;SELECT*FROM"vacuum_db".sqlite_master WHERE tbl_name='t2' AND type!='trigger' ORDER BY rowid
;SELECT*FROM"vacuum_db".sqlite_master WHERE tbl_name='t2' AND type!='trigger' ORDER BY rowid
;CREATE TABLE log(detail)
;SELECT*FROM"vacuum_db".sqlite_master WHERE tbl_name='log' AND type!='trigger' ORDER BY rowid
;SELECT*FROM"vacuum_db".sqlite_master WHERE tbl_name='log' AND type!='trigger' ORDER BY rowid
;CREATE TABLE "t5"(a, b, c)
;SELECT*FROM"vacuum_db".sqlite_master WHERE tbl_name='t5' AND type!='trigger' ORDER BY rowid
;SELECT*FROM"vacuum_db".sqlite_master WHERE tbl_name='t5' AND type!='trigger' ORDER BY rowid
;CREATE TABLE sqlite_stat1(tbl,idx,stat)
;SELECT*FROM"vacuum_db".sqlite_master WHERE tbl_name='sqlite_stat1' AND type!='trigger' ORDER BY rowid
;SELECT*FROM"vacuum_db".sqlite_master WHERE tbl_name='sqlite_stat1' AND type!='trigger' ORDER BY rowid
;SELECT sql FROM "main".sqlite_schema WHERE type='index'
;CREATE INDEX t1_b ON t1(b)
;SELECT*FROM"vacuum_db".sqlite_master WHERE name='t1_b' AND type='index' ORDER BY rowid
;SELECT*FROM"vacuum_db".sqlite_master WHERE name='t1_b' AND type='index' ORDER BY rowid
;CREATE INDEX t2_y ON t2(y)
;SELECT*FROM"vacuum_db".sqlite_master WHERE name='t2_y' AND type='index' ORDER BY rowid
;SELECT*FROM"vacuum_db".sqlite_master WHERE name='t2_y' AND type='index' ORDER BY rowid
;CREATE INDEX i4 ON "t5"(c)
;SELECT*FROM"vacuum_db".sqlite_master WHERE name='i4' AND type='index' ORDER BY rowid
;SELECT*FROM"vacuum_db".sqlite_master WHERE name='i4' AND type='index' ORDER BY rowid
;SELECT'INSERT INTO vacuum_db.'||quote(name)||' SELECT*FROM"main".'||quote(name)FROM vacuum_db.sqlite_schema WHERE type='table'AND coalesce(rootpage,1)>0
;INSERT INTO vacuum_db.'t1' SELECT*FROM"main".'t1'
;INSERT INTO vacuum_db.'t2' SELECT*FROM"main".'t2'
;INSERT INTO vacuum_db.'log' SELECT*FROM"main".'log'
;INSERT INTO vacuum_db.'t5' SELECT*FROM"main".'t5'
;INSERT INTO vacuum_db.'sqlite_stat1' SELECT*FROM"main".'sqlite_stat1'
;INSERT INTO vacuum_db.sqlite_schema SELECT*FROM "main".sqlite_schema WHERE type IN('view','trigger') OR(type='table'AND rootpage=0)
;
;