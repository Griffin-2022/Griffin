CREATE TABLE a1(x INTEGER, y TEXT, z BLOB, PRIMARY KEY(x));
;CREATE TABLE a2(a, b, c);
;CREATE VIEW v1 AS SELECT x, y, z FROM a1;
;
;ALTER TABLE a1 RENAME y TO yyy;
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT sql FROM sqlite_master WHERE type='view';
;
;DROP VIEW v1;
;CREATE VIEW v2 AS SELECT x, x+x, a, a+a FROM a1, a2;
;
;ALTER TABLE a1 RENAME x TO xxx;
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;
;SELECT sql FROM sqlite_master WHERE type='view';
;
;DROP TABLE a2;
;DROP VIEW v2;
;CREATE TABLE a2(a INTEGER PRIMARY KEY, b, c);
;CREATE VIEW v2 AS SELECT xxx, xxx+xxx, a, a+a FROM a1, a2;
;
;ALTER TABLE a1 RENAME xxx TO x;
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;
;SELECT sql FROM sqlite_master WHERE type='view';
;
;CREATE TABLE b1(a, b, c);
;CREATE TABLE b2(x, y, z);
;
;CREATE VIEW vvv AS SELECT c+c || coalesce(c, c) FROM b1, b2 WHERE x=c GROUP BY c HAVING c>0;
;ALTER TABLE b1 RENAME c TO "a;b";
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT sql FROM sqlite_master WHERE name='vvv';
;
;CREATE VIEW www AS SELECT b FROM b1 UNION ALL SELECT y FROM b2;
;ALTER TABLE b1 RENAME b TO bbb;
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT sql FROM sqlite_master WHERE name='www';
;
;CREATE VIEW xxx AS SELECT a FROM b1 UNION SELECT x FROM b2 ORDER BY 1 COLLATE nocase;
;
;ALTER TABLE b2 RENAME x TO hello;
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT sql FROM sqlite_master WHERE name='xxx';
;
;CREATE VIEW zzz AS SELECT george, ringo FROM b1;
;ALTER TABLE b1 RENAME a TO aaa;
;SELECT name, type FROM sqlite_master 
    WHERE type IN ('table', 'view') AND name NOT LIKE 'sqlite_%'
    ORDER BY 1
  
;DROP table a1
;DROP table a2
;DROP table b1
;DROP table b2
;DROP view v2
;DROP view vvv
;DROP view www
;DROP view xxx
;DROP view zzz
;CREATE TABLE t1(a, b, _x_) 
;CREATE TRIGGER AFTER INSERT ON t1 BEGIN
        SELECT _x_ FROM t1;
      END 
;SELECT sql FROM sqlite_master WHERE sql!='' ORDER BY 1
    
;ALTER TABLE t1 RENAME _x_ TO _xxx_
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT sql FROM sqlite_master ORDER BY 1
    
;SELECT name, type FROM sqlite_master 
    WHERE type IN ('table', 'view') AND name NOT LIKE 'sqlite_%'
    ORDER BY 1
  
;DROP table t1
;CREATE TABLE t1(a, b, _x_) 
;CREATE TRIGGER AFTER INSERT ON t1 BEGIN
        SELECT _x_ FROM t1;
      END 
;SELECT sql FROM sqlite_master WHERE sql!='' ORDER BY 1
    
;