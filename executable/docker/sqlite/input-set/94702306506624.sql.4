PRAGMA auto_vacuum=INCREMENTAL;
;PRAGMA page_size=1024;
;PRAGMA cache_size=10;
;CREATE TABLE t1(x);
;INSERT INTO t1 VALUES(zeroblob(900));
;INSERT INTO t1 SELECT x FROM t1;
;DELETE FROM t1 WHERE rowid>202;
;VACUUM;
;ATTACH '' AS vacuum_db
;SELECT*FROM"vacuum_db".sqlite_master ORDER BY rowid
;SELECT*FROM"vacuum_db".sqlite_master ORDER BY rowid
;BEGIN
;SELECT sql FROM "main".sqlite_schema WHERE type='table'AND name<>'sqlite_sequence' AND coalesce(rootpage,1)>0
;CREATE TABLE t1(x)
;SELECT*FROM"vacuum_db".sqlite_master WHERE tbl_name='t1' AND type!='trigger' ORDER BY rowid
;SELECT*FROM"vacuum_db".sqlite_master WHERE tbl_name='t1' AND type!='trigger' ORDER BY rowid
;SELECT sql FROM "main".sqlite_schema WHERE type='index'
;SELECT'INSERT INTO vacuum_db.'||quote(name)||' SELECT*FROM"main".'||quote(name)FROM vacuum_db.sqlite_schema WHERE type='table'AND coalesce(rootpage,1)>0
;INSERT INTO vacuum_db.'t1' SELECT*FROM"main".'t1'
;INSERT INTO vacuum_db.sqlite_schema SELECT*FROM "main".sqlite_schema WHERE type IN('view','trigger') OR(type='table'AND rootpage=0)
;BEGIN;
;DELETE FROM t1 WHERE rowid IN (10,11,12) ;
;PRAGMA incremental_vacuum(10);
;UPDATE t1 SET x=zeroblob(900) WHERE rowid BETWEEN 100 AND 110;
;INSERT INTO t1 VALUES(zeroblob(39000));
;SELECT count(*) FROM t1;
;ROLLBACK;
;
;PRAGMA integrity_check
;