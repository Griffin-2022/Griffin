PRAGMA auto_vacuum = OFF;
;CREATE TABLE tx(y);
;ATTACH ':memory:' AS aux1;
;SELECT*FROM"aux1".sqlite_master ORDER BY rowid
;SELECT*FROM"aux1".sqlite_master ORDER BY rowid
;CREATE VIRTUAL TABLE temp.stat USING dbstat(aux1);
;SELECT*FROM"temp".sqlite_master WHERE name='stat' AND sql='CREATE VIRTUAL TABLE stat USING dbstat(aux1)' ORDER BY rowid
;SELECT*FROM"temp".sqlite_master WHERE name='stat' AND sql='CREATE VIRTUAL TABLE stat USING dbstat(aux1)' ORDER BY rowid
;CREATE TABLE aux1.t1(x);
;SELECT*FROM"aux1".sqlite_master WHERE tbl_name='t1' AND type!='trigger' ORDER BY rowid
;SELECT*FROM"aux1".sqlite_master WHERE tbl_name='t1' AND type!='trigger' ORDER BY rowid
;INSERT INTO t1 VALUES(zeroblob(1513));
;INSERT INTO t1 VALUES(zeroblob(1514));
;SELECT name, path, pageno, pagetype, ncell, payload, unused, mx_payload
    FROM stat WHERE name = 't1';
;SELECT * FROM (SELECT 'sqlite_schema' AS name,1 AS rootpage,'table' AS type UNION ALL SELECT name,rootpage,type FROM "aux1".sqlite_schema WHERE rootpage!=0)WHERE name='t1'
;
;SELECT name, quote(path), pageno, quote(pagetype), ncell, payload,
         unused, mx_payload, '|' FROM dbstat('main',1);
;SELECT * FROM (SELECT 'sqlite_schema' AS name,1 AS rootpage,'table' AS type UNION ALL SELECT name,rootpage,type FROM "main".sqlite_schema WHERE rootpage!=0)
;
;SELECT name, quote(path), pageno, quote(pagetype), ncell, payload,
         unused, mx_payload, '|' FROM dbstat('aux1',1);
;SELECT * FROM (SELECT 'sqlite_schema' AS name,1 AS rootpage,'table' AS type UNION ALL SELECT name,rootpage,type FROM "aux1".sqlite_schema WHERE rootpage!=0)
;
;CREATE VIRTUAL TABLE temp.s2 USING dbstat(mainx);
;SELECT*FROM"temp".sqlite_master WHERE name='s2' AND sql='CREATE VIRTUAL TABLE s2 USING dbstat(mainx)' ORDER BY rowid
;SELECT*FROM"temp".sqlite_master WHERE name='s2' AND sql='CREATE VIRTUAL TABLE s2 USING dbstat(mainx)' ORDER BY rowid
;ATTACH 'test.db2' AS '123';
;SELECT*FROM"123".sqlite_master ORDER BY rowid
;SELECT*FROM"123".sqlite_master ORDER BY rowid
;SELECT*FROM"aux1".sqlite_master ORDER BY rowid
;SELECT*FROM"aux1".sqlite_master ORDER BY rowid
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;SELECT*FROM"temp".sqlite_temp_master ORDER BY rowid
;PRAGMA "123".auto_vacuum = OFF;
;CREATE TABLE "123".x1(a, b);
;SELECT*FROM"123".sqlite_master WHERE tbl_name='x1' AND type!='trigger' ORDER BY rowid
;SELECT*FROM"123".sqlite_master WHERE tbl_name='x1' AND type!='trigger' ORDER BY rowid
;INSERT INTO x1 VALUES(1, 2);
;
;SELECT * FROM dbstat('123');
;SELECT * FROM (SELECT 'sqlite_schema' AS name,1 AS rootpage,'table' AS type UNION ALL SELECT name,rootpage,type FROM "123".sqlite_schema WHERE rootpage!=0)
;
;SELECT * FROM dbstat(123);
;SELECT * FROM (SELECT 'sqlite_schema' AS name,1 AS rootpage,'table' AS type UNION ALL SELECT name,rootpage,type FROM "123".sqlite_schema WHERE rootpage!=0)
;
;CREATE VIRTUAL TABLE x2 USING dbstat('123');
;SELECT * FROM x2;
;SELECT * FROM (SELECT 'sqlite_schema' AS name,1 AS rootpage,'table' AS type UNION ALL SELECT name,rootpage,type FROM "123".sqlite_schema WHERE rootpage!=0)
;
;CREATE VIRTUAL TABLE x3 USING dbstat(123);
;SELECT * FROM x3;
;SELECT * FROM (SELECT 'sqlite_schema' AS name,1 AS rootpage,'table' AS type UNION ALL SELECT name,rootpage,type FROM "123".sqlite_schema WHERE rootpage!=0)
;
;DETACH 123;
;DROP TABLE x2;
;DROP TABLE x3;
;ATTACH 'test.db2' AS '123corp';
;SELECT*FROM"123corp".sqlite_master ORDER BY rowid
;SELECT*FROM"123corp".sqlite_master ORDER BY rowid
;
;SELECT * FROM dbstat('123corp');
;SELECT * FROM (SELECT 'sqlite_schema' AS name,1 AS rootpage,'table' AS type UNION ALL SELECT name,rootpage,type FROM "123corp".sqlite_schema WHERE rootpage!=0)
;
;SELECT * FROM dbstat(
;CREATE VIRTUAL TABLE x2 USING dbstat('123corp');
;SELECT * FROM x2;
;SELECT * FROM (SELECT 'sqlite_schema' AS name,1 AS rootpage,'table' AS type UNION ALL SELECT name,rootpage,type FROM "123corp".sqlite_schema WHERE rootpage!=0)
;
;CREATE VIRTUAL TABLE x3 USING dbstat(
;CREATE VIRTUAL TABLE st4 USING dbstat;
;
;SELECT * FROM st4 WHERE st4.aggregate = NULL;
;SELECT * FROM (SELECT 'sqlite_schema' AS name,1 AS rootpage,'table' AS type UNION ALL SELECT name,rootpage,type FROM "main".sqlite_schema WHERE rootpage!=0)
;
;SELECT aggregate=1 FROM st4 WHERE aggregate = 5

;SELECT * FROM (SELECT 'sqlite_schema' AS name,1 AS rootpage,'table' AS type UNION ALL SELECT name,rootpage,type FROM "main".sqlite_schema WHERE rootpage!=0)
;SELECT * FROM st4 WHERE name = NULL;
;SELECT * FROM (SELECT 'sqlite_schema' AS name,1 AS rootpage,'table' AS type UNION ALL SELECT name,rootpage,type FROM "main".sqlite_schema WHERE rootpage!=0)
;
;SELECT * FROM st4 WHERE schema = NULL;
;
;