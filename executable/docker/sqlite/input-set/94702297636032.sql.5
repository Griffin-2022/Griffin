CREATE TABLE t1(a PRIMARY KEY, b);
;CREATE TABLE counter(
      i CHECK (i<5), 
      u CHECK (u<10)
    );
;INSERT INTO counter VALUES(0, 0);
;CREATE TRIGGER tr1 AFTER INSERT ON t1 BEGIN
      UPDATE counter SET i = i+1;
    END;
;CREATE TRIGGER tr2 AFTER UPDATE ON t1 BEGIN
      UPDATE counter SET u = u+1;
    END;
;
;SELECT * FROM counter 
;PRAGMA cache_size = 10;
;BEGIN;
;INSERT INTO t1 VALUES(1, randomblob(1500));
;INSERT INTO t1 VALUES(2, randomblob(1500));
;INSERT INTO t1 VALUES(3, randomblob(1500));
;SELECT * FROM counter;
;
;INSERT INTO t1 SELECT a+3, randomblob(1500) FROM t1

;SELECT * FROM counter 
;SELECT a FROM t1 
;COMMIT 
;