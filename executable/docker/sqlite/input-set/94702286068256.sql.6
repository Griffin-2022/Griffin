CREATE TABLE t1(a1, a2, a3);
;CREATE INDEX t1a2 ON t1(a2, a1);
;CREATE INDEX t1a3 ON t1(a3, a1);
;CREATE TABLE t2(d);
;INSERT INTO t1 VALUES(3, 1, 1), (3, 2, 2);
;INSERT INTO t2 VALUES(3);
;SELECT *, 'x' FROM t1 WHERE (a2=1 OR a3=2) AND a1 = (
    SELECT d FROM (SELECT DISTINCT d FROM t2) WHERE d=3
  );
;
;