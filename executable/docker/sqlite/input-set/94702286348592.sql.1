PRAGMA journal_mode = persist;
;CREATE TABLE ab(a, b);
;INSERT INTO ab VALUES(0, 'abc');
;INSERT INTO ab VALUES(1, NULL);
;INSERT INTO ab VALUES(2, NULL);
;INSERT INTO ab VALUES(3, NULL);
;INSERT INTO ab VALUES(4, NULL);
;INSERT INTO ab VALUES(5, NULL);
;INSERT INTO ab VALUES(6, NULL);
;UPDATE ab SET b = randstr(1000,1000);
;ATTACH 'test2.db' AS aux;
;SELECT*FROM"aux".sqlite_master ORDER BY rowid
;SELECT*FROM"aux".sqlite_master ORDER BY rowid
;PRAGMA aux.journal_mode = persist;
;CREATE TABLE aux.ab(a, b);
;SELECT*FROM"aux".sqlite_master WHERE tbl_name='ab' AND type!='trigger' ORDER BY rowid
;SELECT*FROM"aux".sqlite_master WHERE tbl_name='ab' AND type!='trigger' ORDER BY rowid
;INSERT INTO aux.ab SELECT * FROM main.ab;
;UPDATE aux.ab SET b = randstr(1000,1000) WHERE a>=1;
;UPDATE ab SET b = randstr(1000,1000) WHERE a>=1;
;
;BEGIN;
;UPDATE aux.ab SET b = 'def' WHERE a = 0;
;UPDATE main.ab SET b = 'def' WHERE a = 0;
;COMMIT;
;
;UPDATE aux.ab SET b = randstr(1000,1000) WHERE a>=1;
;UPDATE ab SET b = randstr(1000,1000) WHERE a>=1;
;
;SELECT b FROM main.ab WHERE a = 1
;SELECT b FROM  aux.ab WHERE a = 1
;SELECT b FROM main.ab WHERE a = 0;
;SELECT b FROM aux.ab WHERE a = 0;
;
;SELECT b FROM aux.ab WHERE a = 0 
;SELECT b FROM main.ab WHERE a = 0 
;