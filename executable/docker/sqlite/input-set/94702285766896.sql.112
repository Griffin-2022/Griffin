CREATE TABLE collate4t1(a COLLATE NOCASE, b COLLATE TEXT);
;INSERT INTO collate4t1 VALUES( 'a', 'a' );
;INSERT INTO collate4t1 VALUES( 'b', 'b' );
;INSERT INTO collate4t1 VALUES( NULL, NULL );
;INSERT INTO collate4t1 VALUES( 'B', 'B' );
;INSERT INTO collate4t1 VALUES( 'A', 'A' );
;CREATE INDEX collate4i1 ON collate4t1(a);
;CREATE INDEX collate4i2 ON collate4t1(b);
;
;SELECT a FROM collate4t1 ORDER BY a
;SELECT a FROM collate4t1 ORDER BY a COLLATE NOCASE
;SELECT a FROM collate4t1 ORDER BY a COLLATE TEXT
;SELECT b FROM collate4t1 ORDER BY b
;SELECT b FROM collate4t1 ORDER BY b COLLATE TEXT
;SELECT b FROM collate4t1 ORDER BY b COLLATE NOCASE, rowid
;CREATE TABLE collate4t2(
      a PRIMARY KEY COLLATE NOCASE, 
      b UNIQUE COLLATE TEXT
    );
;INSERT INTO collate4t2 VALUES( 'a', 'a' );
;INSERT INTO collate4t2 VALUES( NULL, NULL );
;INSERT INTO collate4t2 VALUES( 'B', 'B' );
;
;SELECT a FROM collate4t2 ORDER BY a
;SELECT a FROM collate4t2 ORDER BY a COLLATE NOCASE
;SELECT a FROM collate4t2 ORDER BY a COLLATE TEXT
;SELECT b FROM collate4t2 ORDER BY b
;SELECT b FROM collate4t2 ORDER BY b COLLATE TEXT
;SELECT b FROM collate4t2 ORDER BY b COLLATE NOCASE
;CREATE TABLE collate4t3(
      b COLLATE TEXT,  
      a COLLATE NOCASE, 
      UNIQUE(a), PRIMARY KEY(b)
    );
;INSERT INTO collate4t3 VALUES( 'a', 'a' );
;INSERT INTO collate4t3 VALUES( NULL, NULL );
;INSERT INTO collate4t3 VALUES( 'B', 'B' );
;
;SELECT a FROM collate4t3 ORDER BY a
;SELECT a FROM collate4t3 ORDER BY a COLLATE NOCASE
;SELECT a FROM collate4t3 ORDER BY a COLLATE TEXT
;SELECT b FROM collate4t3 ORDER BY b
;SELECT b FROM collate4t3 ORDER BY b COLLATE TEXT
;SELECT b FROM collate4t3 ORDER BY b COLLATE NOCASE
;CREATE TABLE collate4t4(a COLLATE NOCASE, b COLLATE TEXT);
;INSERT INTO collate4t4 VALUES( 'a', 'a' );
;INSERT INTO collate4t4 VALUES( 'b', 'b' );
;INSERT INTO collate4t4 VALUES( NULL, NULL );
;INSERT INTO collate4t4 VALUES( 'B', 'B' );
;INSERT INTO collate4t4 VALUES( 'A', 'A' );
;CREATE INDEX collate4i3 ON collate4t4(a COLLATE TEXT);
;CREATE INDEX collate4i4 ON collate4t4(b COLLATE NOCASE);
;
;SELECT a FROM collate4t4 ORDER BY a, rowid
;SELECT a FROM collate4t4 ORDER BY a COLLATE NOCASE, rowid
;SELECT a FROM collate4t4 ORDER BY a COLLATE TEXT, rowid
;SELECT b FROM collate4t4 ORDER BY b
;SELECT b FROM collate4t4 ORDER BY b COLLATE TEXT
;SELECT b FROM collate4t4 ORDER BY b COLLATE NOCASE
;DROP TABLE collate4t1;
;DROP TABLE collate4t2;
;DROP TABLE collate4t3;
;DROP TABLE collate4t4;
;
;CREATE TABLE collate4t1(a COLLATE NOCASE, b COLLATE TEXT);
;INSERT INTO collate4t1 VALUES( 'a', 'a' );
;INSERT INTO collate4t1 VALUES( 'b', 'b' );
;INSERT INTO collate4t1 VALUES( NULL, NULL );
;INSERT INTO collate4t1 VALUES( 'B', 'B' );
;INSERT INTO collate4t1 VALUES( 'A', 'A' );
;CREATE INDEX collate4i1 ON collate4t1(a, b);
;
;SELECT a FROM collate4t1 ORDER BY a
;SELECT a FROM collate4t1 ORDER BY a COLLATE nocase
;SELECT a FROM collate4t1 ORDER BY a COLLATE text
;SELECT a FROM collate4t1 ORDER BY a, b
;SELECT a FROM collate4t1 ORDER BY a, b COLLATE nocase, rowid
;SELECT a FROM collate4t1 ORDER BY a, b COLLATE text
;CREATE TABLE collate4t2(
      a COLLATE NOCASE, 
      b COLLATE TEXT, 
      PRIMARY KEY(a, b)
    );
;INSERT INTO collate4t2 VALUES( 'a', 'a' );
;INSERT INTO collate4t2 VALUES( NULL, NULL );
;INSERT INTO collate4t2 VALUES( 'B', 'B' );
;
;SELECT a FROM collate4t2 ORDER BY a
;SELECT a FROM collate4t2 ORDER BY a COLLATE nocase
;SELECT a FROM collate4t2 ORDER BY a COLLATE text
;SELECT a FROM collate4t2 ORDER BY a, b
;SELECT a FROM collate4t2 ORDER BY a, b COLLATE nocase
;SELECT a FROM collate4t2 ORDER BY a, b COLLATE text
;CREATE TABLE collate4t3(a COLLATE NOCASE, b COLLATE TEXT);
;INSERT INTO collate4t3 VALUES( 'a', 'a' );
;INSERT INTO collate4t3 VALUES( 'b', 'b' );
;INSERT INTO collate4t3 VALUES( NULL, NULL );
;INSERT INTO collate4t3 VALUES( 'B', 'B' );
;INSERT INTO collate4t3 VALUES( 'A', 'A' );
;CREATE INDEX collate4i2 ON collate4t3(a COLLATE TEXT, b COLLATE NOCASE);
;
;SELECT a FROM collate4t3 ORDER BY a, rowid
;SELECT a FROM collate4t3 ORDER BY a COLLATE nocase, rowid
;SELECT a FROM collate4t3 ORDER BY a COLLATE text
;SELECT a FROM collate4t3 ORDER BY a COLLATE text, b
;SELECT a FROM collate4t3 ORDER BY a COLLATE text, b COLLATE nocase
;SELECT a FROM collate4t3 ORDER BY a COLLATE text, b COLLATE text
;SELECT a FROM collate4t3 ORDER BY a COLLATE text DESC
;SELECT a FROM collate4t3 ORDER BY a COLLATE text DESC, b
;SELECT a FROM collate4t3 
            ORDER BY a COLLATE text DESC, b COLLATE nocase
;SELECT a FROM collate4t3 
            ORDER BY a COLLATE text DESC, b COLLATE nocase DESC
;DROP TABLE collate4t1;
;DROP TABLE collate4t2;
;DROP TABLE collate4t3;
;
;PRAGMA automatic_index=OFF;
;CREATE TABLE collate4t1(a COLLATE NOCASE);
;CREATE TABLE collate4t2(b COLLATE TEXT);
;INSERT INTO collate4t1 VALUES('a');
;INSERT INTO collate4t1 VALUES('A');
;INSERT INTO collate4t1 VALUES('b');
;INSERT INTO collate4t1 VALUES('B');
;INSERT INTO collate4t1 VALUES('c');
;INSERT INTO collate4t1 VALUES('C');
;INSERT INTO collate4t1 VALUES('d');
;INSERT INTO collate4t1 VALUES('D');
;INSERT INTO collate4t1 VALUES('e');
;INSERT INTO collate4t2 VALUES('A');
;INSERT INTO collate4t2 VALUES('Z');
;
;SELECT * FROM collate4t2, collate4t1 WHERE a = b;
;
;CREATE INDEX collate4i1 ON collate4t1(a);
;
;
;SELECT * FROM collate4t2, collate4t1 WHERE b = a;
;
;DROP INDEX collate4i1;
;CREATE INDEX collate4i1 ON collate4t1(a COLLATE TEXT);
;
;SELECT * FROM collate4t2, collate4t1 WHERE a = b
     ORDER BY collate4t2.rowid, collate4t1.rowid
  
;SELECT * FROM collate4t2, collate4t1 WHERE b = a;
;
;SELECT a FROM collate4t1 WHERE a IN (SELECT * FROM collate4t2)
       ORDER BY rowid
    
;DROP INDEX collate4i1;
;CREATE INDEX collate4i1 ON collate4t1(a);
;
;SELECT a FROM collate4t1 WHERE a IN ('z', 'a');
;
;DROP INDEX collate4i1;
;CREATE INDEX collate4i1 ON collate4t1(a COLLATE TEXT);
;
;SELECT a FROM collate4t1 WHERE a IN ('z', 'a') ORDER BY rowid;
;
;DROP TABLE collate4t1;
;DROP TABLE collate4t2;
;
;CREATE TABLE collate4t1(a COLLATE nocase, b COLLATE text, c);
;CREATE TABLE collate4t2(a COLLATE nocase, b COLLATE text, c COLLATE TEXT);
;INSERT INTO collate4t1 VALUES('0', '0', '0');
;INSERT INTO collate4t1 VALUES('0', '0', '1');
;INSERT INTO collate4t1 VALUES('0', '1', '0');
;INSERT INTO collate4t1 VALUES('0', '1', '1');
;INSERT INTO collate4t1 VALUES('1', '0', '0');
;INSERT INTO collate4t1 VALUES('1', '0', '1');
;INSERT INTO collate4t1 VALUES('1', '1', '0');
;INSERT INTO collate4t1 VALUES('1', '1', '1');
;insert into collate4t2 SELECT * FROM collate4t1;
;
;SELECT * FROM collate4t2 NOT INDEXED NATURAL JOIN collate4t1 NOT INDEXED;
;
;CREATE INDEX collate4i1 ON collate4t1(a, b, c);
;
;SELECT * FROM collate4t2 NATURAL JOIN collate4t1;
;
;DROP INDEX collate4i1;
;CREATE INDEX collate4i1 ON collate4t1(a, b, c COLLATE text);
;
;
;DROP TABLE collate4t1;
;DROP TABLE collate4t2;
;
;CREATE TABLE collate4t1(a PRIMARY KEY COLLATE NOCASE);
;
;INSERT INTO collate4t1 VALUES('abc');
;INSERT INTO collate4t1 VALUES('ABC');
;SELECT * FROM collate4t1;
;
;INSERT INTO collate4t1 SELECT upper(a) FROM collate4t1;
;INSERT INTO collate4t1 VALUES(1);
;UPDATE collate4t1 SET a = 'abc';
;DROP TABLE collate4t1;
;CREATE TABLE collate4t1(a COLLATE NOCASE UNIQUE);
;
;INSERT INTO collate4t1 VALUES('abc');
;INSERT INTO collate4t1 VALUES('ABC');
;SELECT * FROM collate4t1;
;
;INSERT INTO collate4t1 SELECT upper(a) FROM collate4t1;
;INSERT INTO collate4t1 VALUES(1);
;UPDATE collate4t1 SET a = 'abc';
;DROP TABLE collate4t1;
;CREATE TABLE collate4t1(a);
;CREATE UNIQUE INDEX collate4i1 ON collate4t1(a COLLATE NOCASE);
;
;INSERT INTO collate4t1 VALUES('abc');
;INSERT INTO collate4t1 VALUES('ABC');
;SELECT * FROM collate4t1;
;
;INSERT INTO collate4t1 SELECT upper(a) FROM collate4t1;
;INSERT INTO collate4t1 VALUES(1);
;UPDATE collate4t1 SET a = 'abc';
;DROP TABLE collate4t1;
;
;CREATE TABLE collate4t1(a COLLATE TEXT);
;INSERT INTO collate4t1 VALUES('2');
;INSERT INTO collate4t1 VALUES('10');
;INSERT INTO collate4t1 VALUES('20');
;INSERT INTO collate4t1 VALUES('104');
;
;SELECT max(a) FROM collate4t1
  
;SELECT min(a) FROM collate4t1
  
;CREATE INDEX collate4i1 ON collate4t1(a);
;
;SELECT min(a) FROM collate4t1;
;
;SELECT max(a) FROM collate4t1;
;
;DROP INDEX collate4i1;
;CREATE INDEX collate4i1 ON collate4t1(a COLLATE NUMERIC);
;
;SELECT min(a) FROM collate4t1;
;
;SELECT max(a) FROM collate4t1;
;
;DROP TABLE collate4t1;
;
;CREATE TABLE collate4t1(a COLLATE TEXT, b COLLATE NUMERIC);
;INSERT INTO collate4t1 VALUES('11', '101');
;INSERT INTO collate4t1 VALUES('101', '11')
  
;SELECT max(a, b) FROM collate4t1;
;
;SELECT max(b, a) FROM collate4t1;
;
;SELECT max(a, '101') FROM collate4t1;
;
;SELECT max('101', a) FROM collate4t1;
;
;SELECT max(b, '101') FROM collate4t1;
;
;SELECT max('101', b) FROM collate4t1;
;
;DROP TABLE collate4t1;
;
;CREATE TABLE collate4t1(a INTEGER PRIMARY KEY);
;INSERT INTO collate4t1 VALUES(101);
;INSERT INTO collate4t1 VALUES(10);
;INSERT INTO collate4t1 VALUES(15);
;
;SELECT * FROM collate4t1 ORDER BY 1;
;
;SELECT * FROM collate4t1 ORDER BY oid;
;
;SELECT * FROM collate4t1 ORDER BY oid||'' COLLATE TEXT;
;
;