CREATE TABLE t1(t text, b blob)

;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 1, 1) FROM t1
    
;SELECT substring('abcdefg', 1, 1)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 2, 1) FROM t1
    
;SELECT substring('abcdefg', 2, 1)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 1, 2) FROM t1
    
;SELECT substring('abcdefg', 1, 2)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 1, 100) FROM t1
    
;SELECT substring('abcdefg', 1, 100)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 0, 2) FROM t1
    
;SELECT substring('abcdefg', 0, 2)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, -1, 1) FROM t1
    
;SELECT substring('abcdefg', -1, 1)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, -1, 10) FROM t1
    
;SELECT substring('abcdefg', -1, 10)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, -5, 3) FROM t1
    
;SELECT substring('abcdefg', -5, 3)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, -7, 3) FROM t1
    
;SELECT substring('abcdefg', -7, 3)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, -100, 98) FROM t1
    
;SELECT substring('abcdefg', -100, 98)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 5, -1) FROM t1
    
;SELECT substring('abcdefg', 5, -1)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 5, -4) FROM t1
    
;SELECT substring('abcdefg', 5, -4)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 5, -5) FROM t1
    
;SELECT substring('abcdefg', 5, -5)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, -5, -1) FROM t1
    
;SELECT substring('abcdefg', -5, -1)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, -5, -2) FROM t1
    
;SELECT substring('abcdefg', -5, -2)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, -5, -3) FROM t1
    
;SELECT substring('abcdefg', -5, -3)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 100, 200) FROM t1
    
;SELECT substring('abcdefg', 100, 200)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 200, 100) FROM t1
    
;SELECT substring('abcdefg', 200, 100)
    
;SELECT ifnull(substr(NULL,1,1),'nil')
;SELECT ifnull(substr(NULL,1),'nil')
;SELECT ifnull(substr('abcdefg',NULL,1),'nil')
;SELECT ifnull(substring('abcdefg',NULL),'nil')
;SELECT ifnull(substr('abcdefg',1,NULL),'nil')
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 1, 1) FROM t1
    
;SELECT substring('ሴ⍅㑖', 1, 1)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 2, 1) FROM t1
    
;SELECT substring('ሴ⍅㑖', 2, 1)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 1, 2) FROM t1
    
;SELECT substring('ሴ⍅㑖', 1, 2)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, -1, 1) FROM t1
    
;SELECT substring('ሴ⍅㑖', -1, 1)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, -5, 3) FROM t1
    
;SELECT substring('aሴb⍅c㑖c', -5, 3)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, -2, -3) FROM t1
    
;SELECT substring('aሴb⍅c㑖c', -2, -3)
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61626364656667')
  
;SELECT hex(substr(b, 1, 1)) FROM t1
    
;SELECT hex(substring(x'61626364656667', 1, 1))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61626364656667')
  
;SELECT hex(substr(b, 2, 1)) FROM t1
    
;SELECT hex(substring(x'61626364656667', 2, 1))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61626364656667')
  
;SELECT hex(substr(b, 1, 2)) FROM t1
    
;SELECT hex(substring(x'61626364656667', 1, 2))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61626364656667')
  
;SELECT hex(substr(b, 1, 100)) FROM t1
    
;SELECT hex(substring(x'61626364656667', 1, 100))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61626364656667')
  
;SELECT hex(substr(b, 0, 2)) FROM t1
    
;SELECT hex(substring(x'61626364656667', 0, 2))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61626364656667')
  
;SELECT hex(substr(b, -1, 1)) FROM t1
    
;SELECT hex(substring(x'61626364656667', -1, 1))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61626364656667')
  
;SELECT hex(substr(b, -1, 10)) FROM t1
    
;SELECT hex(substring(x'61626364656667', -1, 10))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61626364656667')
  
;SELECT hex(substr(b, -5, 3)) FROM t1
    
;SELECT hex(substring(x'61626364656667', -5, 3))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61626364656667')
  
;SELECT hex(substr(b, -7, 3)) FROM t1
    
;SELECT hex(substring(x'61626364656667', -7, 3))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61626364656667')
  
;SELECT hex(substr(b, -100, 98)) FROM t1
    
;SELECT hex(substring(x'61626364656667', -100, 98))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61626364656667')
  
;SELECT hex(substr(b, 100, 200)) FROM t1
    
;SELECT hex(substring(x'61626364656667', 100, 200))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61626364656667')
  
;SELECT hex(substr(b, 200, 100)) FROM t1
    
;SELECT hex(substring(x'61626364656667', 200, 100))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61E188B462E28D8563E3919663')
  
;SELECT hex(substr(b, 1, 1)) FROM t1
    
;SELECT hex(substring(x'61E188B462E28D8563E3919663', 1, 1))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61E188B462E28D8563E3919663')
  
;SELECT hex(substr(b, 2, 1)) FROM t1
    
;SELECT hex(substring(x'61E188B462E28D8563E3919663', 2, 1))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61E188B462E28D8563E3919663')
  
;SELECT hex(substr(b, 1, 2)) FROM t1
    
;SELECT hex(substring(x'61E188B462E28D8563E3919663', 1, 2))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61E188B462E28D8563E3919663')
  
;SELECT hex(substr(b, -2, 1)) FROM t1
    
;SELECT hex(substring(x'61E188B462E28D8563E3919663', -2, 1))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61E188B462E28D8563E3919663')
  
;SELECT hex(substr(b, -5, 4)) FROM t1
    
;SELECT hex(substring(x'61E188B462E28D8563E3919663', -5, 4))
    
;DELETE FROM t1;
;INSERT INTO t1(b) VALUES(x'61E188B462E28D8563E3919663')
  
;SELECT hex(substr(b, -100, 98)) FROM t1
    
;SELECT hex(substring(x'61E188B462E28D8563E3919663', -100, 98))
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, 5) FROM t1
    
;SELECT substring('abcdefghijklmnop', 5)
    
;DELETE FROM t1;
;INSERT INTO t1(t) VALUES($string)
  
;SELECT substr(t, -5) FROM t1
    
;SELECT substring('abcdef', -5)
    
;