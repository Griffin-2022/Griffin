CREATE TABLE t2(c, d);
;CREATE TABLE t1(a, b);
;INSERT INTO t1 VALUES(1, 1);
;INSERT INTO t1 VALUES(2, 2);
;INSERT INTO t1 VALUES(1, 3);
;INSERT INTO t1 VALUES(2, 4);
;INSERT INTO t1 VALUES(1, 5);
;INSERT INTO t1 VALUES(2, 6);
;
;SELECT a, sum(b) FROM t1 GROUP BY a HAVING a=2
;SELECT a, sum(b) FROM t1 GROUP BY a HAVING a=2 AND sum(b)>10
;SELECT a, sum(b) FROM t1 GROUP BY a HAVING sum(b)>12
;explain SELECT a, sum(b) FROM t1 GROUP BY a HAVING a=2
;explain SELECT a, sum(b) FROM t1 WHERE a=2 GROUP BY a
;explain SELECT a, sum(b) FROM t1 GROUP BY a HAVING sum(b)>5 AND a=2
;explain SELECT a, sum(b) FROM t1 WHERE a=2 GROUP BY a HAVING sum(b)>5
;explain SELECT a, sum(b) FROM t1 GROUP BY a COLLATE binary HAVING a=2
;explain SELECT a, sum(b) FROM t1 WHERE a=2 GROUP BY a COLLATE binary
;explain SELECT a, sum(b) FROM t1 GROUP BY a COLLATE binary HAVING 1
;explain SELECT a, sum(b) FROM t1 WHERE 1 GROUP BY a COLLATE binary
;explain SELECT count(*) FROM t1,t2 WHERE a=c GROUP BY b, d HAVING b=d
;explain SELECT count(*) FROM t1,t2 WHERE a=c AND b=d GROUP BY b, d
;explain 
      SELECT count(*) FROM t1,t2 WHERE a=c GROUP BY b, d 
      HAVING b=d COLLATE nocase
    
;explain 
      SELECT count(*) FROM t1,t2 WHERE a=c AND b=d COLLATE nocase 
      GROUP BY b, d
    
;explain SELECT a, sum(b) FROM t1 GROUP BY a||b HAVING substr(a||b, 1, 1)='a'
;explain SELECT a, sum(b) FROM t1 WHERE substr(a||b, 1, 1)='a' GROUP BY a||b
;SELECT x,y FROM (
    SELECT a AS x, sum(b) AS y FROM t1 
    GROUP BY a
  ) WHERE x BETWEEN 2 AND 9999

;SELECT x,y FROM (
    SELECT a AS x, sum(b) AS y FROM t1 
    WHERE x BETWEEN 2 AND 9999 
    GROUP BY a
  )

;explain SELECT a, sum(b) FROM t1 GROUP BY a COLLATE nocase HAVING a=2
;explain SELECT a, sum(b) FROM t1 WHERE a=2 GROUP BY a COLLATE nocase
;explain SELECT a, sum(b) FROM t1 GROUP BY a HAVING randomblob(a)<X'88'
;explain SELECT a, sum(b) FROM t1 WHERE randomblob(a)<X'88' GROUP BY a
;CREATE TABLE t3(a, b);
;INSERT INTO t3 VALUES(1, 1);
;INSERT INTO t3 VALUES(1, 2);
;INSERT INTO t3 VALUES(1, 3);
;INSERT INTO t3 VALUES(2, 1);
;INSERT INTO t3 VALUES(2, 2);
;INSERT INTO t3 VALUES(2, 3);
;
;SELECT a, sum(b) FROM t3 GROUP BY a HAVING nondeter(a)

;SELECT a, sum(b) FROM t3 WHERE nondeter(a) GROUP BY a

;