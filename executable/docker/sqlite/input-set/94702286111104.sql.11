ATTACH 'test.db2' AS aux;
;SELECT*FROM"aux".sqlite_master ORDER BY rowid
;SELECT*FROM"aux".sqlite_master ORDER BY rowid
;CREATE TABLE t1(x);
;CREATE INDEX i1_a ON t1(x COLLATE collA);
;CREATE INDEX i1_b ON t1(x COLLATE collB);
;INSERT INTO t1 VALUES('one');
;INSERT INTO t1 VALUES('two');
;INSERT INTO t1 VALUES('three');
;INSERT INTO t1 VALUES('four');
;INSERT INTO t1 VALUES('five');
;INSERT INTO t1 VALUES('six');
;INSERT INTO t1 VALUES('seven');
;INSERT INTO t1 VALUES('eight');
;CREATE TABLE t2(x);
;CREATE INDEX i2_a ON t2(x COLLATE collA);
;CREATE INDEX i2_b ON t2(x COLLATE collB);
;INSERT INTO t2 SELECT x FROM t1;
;CREATE TABLE aux.t1(x);
;SELECT*FROM"aux".sqlite_master WHERE tbl_name='t1' AND type!='trigger' ORDER BY rowid
;SELECT*FROM"aux".sqlite_master WHERE tbl_name='t1' AND type!='trigger' ORDER BY rowid
;CREATE INDEX aux.i1_a ON t1(x COLLATE collA);
;SELECT*FROM"aux".sqlite_master WHERE name='i1_a' AND type='index' ORDER BY rowid
;SELECT*FROM"aux".sqlite_master WHERE name='i1_a' AND type='index' ORDER BY rowid
;CREATE INDEX aux.i1_b ON t1(x COLLATE collB);
;SELECT*FROM"aux".sqlite_master WHERE name='i1_b' AND type='index' ORDER BY rowid
;SELECT*FROM"aux".sqlite_master WHERE name='i1_b' AND type='index' ORDER BY rowid
;INSERT INTO aux.t1 SELECT x FROM main.t1;
;
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;REINDEX
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;REINDEX collA
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;REINDEX collB
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;REINDEX t1
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;REINDEX aux.t1
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;REINDEX t2
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;REINDEX i1_a
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;REINDEX i2_b
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;REINDEX aux.i1_b
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;REINDEX i1_b
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;REINDEX i2_a
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;REINDEX aux.i1_a
;SELECT x FROM t1 ORDER BY x COLLATE collA
;SELECT x FROM t1 ORDER BY x COLLATE collB
;SELECT x FROM t2 ORDER BY x COLLATE collA
;SELECT x FROM t2 ORDER BY x COLLATE collB
;SELECT x FROM aux.t1 ORDER BY x COLLATE collA
;SELECT x FROM aux.t1 ORDER BY x COLLATE collB
;CREATE TABLE collA(x);
;CREATE INDEX icolla_a ON collA(x COLLATE collA);
;CREATE INDEX icolla_b ON collA(x COLLATE collB);
;INSERT INTO collA SELECT x FROM t1;
;
;SELECT x FROM collA ORDER BY x COLLATE collA
;SELECT x FROM collA ORDER BY x COLLATE collB
;REINDEX collA
;REINDEX main.collA
;