CREATE TABLE t1(x, y, z);
;CREATE TABLE t2(a, b);
;INSERT INTO t1 VALUES(1000, 2000, 3000);
;INSERT INTO t2 VALUES(NULL, NULL);
;
;UPDATE t2 SET (a,b)=(
    SELECT max( t1.x ) OVER( PARTITION BY sum( (SELECT t1.y) ) ), 2
  )
  FROM t1;
;
;SELECT * FROM t2

;