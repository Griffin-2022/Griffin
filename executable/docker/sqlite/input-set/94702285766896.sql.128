CREATE TABLE t1(a, b, c, UNIQUE(a,b));
;CREATE TABLE t2(x);
;SELECT c FROM t1 ORDER BY c;
;
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR IGNORE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR REPLACE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;REPLACE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR FAIL INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR ABORT INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR ROLLBACK INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t1;
;DROP TABLE t2;
;CREATE TABLE t1(a INTEGER PRIMARY KEY, b, c, UNIQUE(a,b));
;CREATE TABLE t2(x);
;SELECT c FROM t1 ORDER BY c;
;
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR IGNORE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR REPLACE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;REPLACE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR FAIL INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR ABORT INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR ROLLBACK INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t1;
;DROP TABLE t2;
;CREATE TABLE t1(a, b, c INTEGER, PRIMARY KEY(c), UNIQUE(a,b));
;CREATE TABLE t2(x);
;SELECT c FROM t1 ORDER BY c;
;
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR IGNORE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR REPLACE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;REPLACE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR FAIL INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR ABORT INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DELETE FROM t1;
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR ROLLBACK INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t2;
;CREATE TABLE t2(x);
;SELECT x FROM t2;
;
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c,UNIQUE(a,b) );
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c,UNIQUE(a,b) ON CONFLICT REPLACE);
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c,UNIQUE(a,b) ON CONFLICT IGNORE);
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c,UNIQUE(a,b) ON CONFLICT FAIL);
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c,UNIQUE(a,b) ON CONFLICT ABORT);
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c,UNIQUE(a,b) ON CONFLICT ROLLBACK);
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,4);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c,UNIQUE(a,b) ON CONFLICT REPLACE);
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR IGNORE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c,UNIQUE(a,b) ON CONFLICT IGNORE);
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR REPLACE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c,UNIQUE(a,b) ON CONFLICT FAIL);
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR IGNORE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c,UNIQUE(a,b) ON CONFLICT ABORT);
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR REPLACE INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c,UNIQUE(a,b) ON CONFLICT ROLLBACK);
;DELETE FROM t2;
;INSERT INTO t1 VALUES(1,2,3);
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR IGNORE  INTO t1 VALUES(1,2,4);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t2;
;CREATE TABLE t2(x);
;SELECT x FROM t2;
;
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL  DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,NULL);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL ON CONFLICT REPLACE DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,NULL);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL ON CONFLICT IGNORE DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,NULL);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL ON CONFLICT FAIL DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,NULL);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL ON CONFLICT ABORT DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,NULL);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL ON CONFLICT ROLLBACK DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT INTO t1 VALUES(1,2,NULL);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL ON CONFLICT REPLACE DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR IGNORE INTO t1 VALUES(1,2,NULL);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL ON CONFLICT IGNORE DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR REPLACE INTO t1 VALUES(1,2,NULL);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL ON CONFLICT FAIL DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR IGNORE INTO t1 VALUES(1,2,NULL);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL ON CONFLICT ABORT DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR REPLACE INTO t1 VALUES(1,2,NULL);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL ON CONFLICT ROLLBACK DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR IGNORE INTO t1 VALUES(1,2,NULL);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL  DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR IGNORE INTO t1 VALUES(1,2,NULL);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL  DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR REPLACE INTO t1 VALUES(1,2,NULL);
;
;COMMIT
;SELECT c FROM t1
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL  DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR FAIL INTO t1 VALUES(1,2,NULL);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL  DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR ABORT INTO t1 VALUES(1,2,NULL);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t1;
;CREATE TABLE t1(a,b,c NOT NULL  DEFAULT 5);
;DELETE FROM t2;
;BEGIN;
;INSERT INTO t2 VALUES(1);
;INSERT OR ROLLBACK INTO t1 VALUES(1,2,NULL);
;COMMIT
;SELECT x FROM t2
;DROP TABLE t2;
;CREATE TABLE t2(a,b,c);
;INSERT INTO t2 VALUES(1,2,1);
;INSERT INTO t2 VALUES(2,3,2);
;INSERT INTO t2 VALUES(3,4,1);
;INSERT INTO t2 VALUES(4,5,4);
;SELECT c FROM t2 ORDER BY b;
;CREATE TABLE t3(x);
;INSERT INTO t3 VALUES(1);
;
;