CREATE TABLE t1(x TEXT);
;
;INSERT INTO t1 VALUES(:str)
;SELECT count(*) FROM t1;
;
;SELECT x FROM t1 WHERE x LIKE 'abc' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x GLOB 'abc' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'ABC' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'aBc' ORDER BY 1;
;
;PRAGMA case_sensitive_like=on
;PRAGMA case_sensitive_like=on
;SELECT x FROM t1 WHERE x LIKE 'abc' ORDER BY 1;
;
;PRAGMA case_sensitive_like;
;-- no argument; does not change setting
    SELECT x FROM t1 WHERE x LIKE 'abc' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x GLOB 'abc' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'ABC' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'aBc' ORDER BY 1;
;
;PRAGMA case_sensitive_like=off;
;SELECT x FROM t1 WHERE x LIKE 'abc' ORDER BY 1;
;
;PRAGMA case_sensitive_like;
;-- No argument, does not change setting.
    SELECT x FROM t1 WHERE x LIKE 'abc' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x REGEXP 'abc' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x REGEXP '^abc' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x MATCH '*abc*' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x MATCH 'abc*' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1;
;
;PRAGMA case_sensitive_like=on;
;CREATE INDEX i1 ON t1(x);
;
;SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE $::likepat ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
      SELECT x FROM t1 WHERE x LIKE $::likepat ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE $::likepat ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE $::likepat ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'a' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'a' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'ab' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'ab' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'abcd' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'abcd' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'abcde' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'abcde' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'a_c' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'a_c' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'ab%d' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'ab%d' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE 'a_c%' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'a_c%' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x LIKE '%bcd' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE '%bcd' ORDER BY 1;
;
;PRAGMA case_sensitive_like=off;
;SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1;
;
;PRAGMA case_sensitive_like=on;
;DROP INDEX i1;
;
;SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x GLOB 'abc*' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x GLOB 'abc*' ORDER BY 1;
;
;CREATE INDEX i1 ON t1(x);
;SELECT x FROM t1 WHERE x GLOB 'abc*' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x GLOB 'abc*' ORDER BY 1;
;
;PRAGMA case_sensitive_like=on;
;SELECT x FROM t1 WHERE x GLOB 'abc*' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x GLOB 'abc*' ORDER BY 1;
;
;PRAGMA case_sensitive_like=off;
;SELECT x FROM t1 WHERE x GLOB 'a[bc]d' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x GLOB 'a[bc]d' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x GLOB 'a' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x GLOB 'a' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x GLOB 'abcd' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x GLOB 'abcd' ORDER BY 1;
;
;SELECT x FROM t1 WHERE x GLOB 'abcde' ORDER BY 1;
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x GLOB 'abcde' ORDER BY 1;
;
;PRAGMA case_sensitive_like=on
;SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1
  
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1
  
;SELECT x FROM t1 WHERE +x LIKE 'abc%' ORDER BY 1
  
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE +x LIKE 'abc%' ORDER BY 1
  
;SELECT x FROM t1 WHERE x LIKE ('ab' || 'c%') ORDER BY 1
  
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE ('ab' || 'c%') ORDER BY 1
  
;PRAGMA case_sensitive_like=off
;SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1
  
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'abc%' ORDER BY 1
  
;CREATE TABLE t2(x TEXT COLLATE NOCASE);
;INSERT INTO t2 SELECT * FROM t1 ORDER BY rowid;
;CREATE INDEX i2 ON t2(x COLLATE NOCASE);
;
;SELECT x FROM t2 WHERE x LIKE 'abc%' ORDER BY 1
  
;EXPLAIN QUERY PLAN 
    SELECT x FROM t2 WHERE x LIKE 'abc%' ORDER BY 1
  
;PRAGMA case_sensitive_like=on;
;
;SELECT x FROM t2 WHERE x LIKE 'abc%' ORDER BY 1
  
;EXPLAIN QUERY PLAN 
    SELECT x FROM t2 WHERE x LIKE 'abc%' ORDER BY 1
  
;PRAGMA case_sensitive_like=off;
;
;SELECT x FROM t2 WHERE x GLOB 'abc*' ORDER BY 1
  
;EXPLAIN QUERY PLAN 
    SELECT x FROM t2 WHERE x GLOB 'abc*' ORDER BY 1
  
;PRAGMA case_sensitive_like=off
;SELECT x FROM t1 WHERE x LIKE 'ABC%' ORDER BY 1
  
;EXPLAIN QUERY PLAN 
    SELECT x FROM t1 WHERE x LIKE 'ABC%' ORDER BY 1
  
;SELECT x FROM t2 WHERE x LIKE 'ABC%' ORDER BY 1
  
;EXPLAIN QUERY PLAN 
    SELECT x FROM t2 WHERE x LIKE 'ABC%' ORDER BY 1
  
;PRAGMA case_sensitive_like=on;
;
;SELECT x FROM t2 WHERE x LIKE 'ABC%' ORDER BY 1
  
;EXPLAIN QUERY PLAN 
    SELECT x FROM t2 WHERE x LIKE 'ABC%' ORDER BY 1
  
;PRAGMA case_sensitive_like=off;
;
;SELECT x FROM t2 WHERE x GLOB 'ABC*' ORDER BY 1
  
;EXPLAIN QUERY PLAN 
    SELECT x FROM t2 WHERE x GLOB 'ABC*' ORDER BY 1
  
;PRAGMA case_sensitive_like=off;
;INSERT INTO t2 VALUES('ZZ-upper-upper');
;INSERT INTO t2 VALUES('zZ-lower-upper');
;INSERT INTO t2 VALUES('Zz-upper-lower');
;INSERT INTO t2 VALUES('zz-lower-lower');
;
;SELECT x FROM t2 WHERE x LIKE 'zz%';
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t2 WHERE x LIKE 'zz%';
;
;SELECT x FROM t2 WHERE x LIKE 'zZ%';
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t2 WHERE x LIKE 'zZ%';
;
;SELECT x FROM t2 WHERE x LIKE 'Zz%';
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t2 WHERE x LIKE 'Zz%';
;
;SELECT x FROM t2 WHERE x LIKE 'ZZ%';
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t2 WHERE x LIKE 'ZZ%';
;
;PRAGMA case_sensitive_like=on;
;CREATE TABLE t3(x TEXT);
;CREATE INDEX i3 ON t3(x);
;INSERT INTO t3 VALUES('ZZ-upper-upper');
;INSERT INTO t3 VALUES('zZ-lower-upper');
;INSERT INTO t3 VALUES('Zz-upper-lower');
;INSERT INTO t3 VALUES('zz-lower-lower');
;
;SELECT x FROM t3 WHERE x LIKE 'zz%';
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t3 WHERE x LIKE 'zz%';
;
;SELECT x FROM t3 WHERE x LIKE 'zZ%';
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t3 WHERE x LIKE 'zZ%';
;
;SELECT x FROM t3 WHERE x LIKE 'Zz%';
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t3 WHERE x LIKE 'Zz%';
;
;SELECT x FROM t3 WHERE x LIKE 'ZZ%';
;
;EXPLAIN QUERY PLAN 
    SELECT x FROM t3 WHERE x LIKE 'ZZ%';
;
;INSERT INTO t2 VALUES('''abc')
;INSERT INTO t2 VALUES('''bcd')
;INSERT INTO t2 VALUES('''def')
;INSERT INTO t2 VALUES('''ax')
;SELECT * FROM t2 WHERE x LIKE '''a%'
  
;SELECT rowid, * FROM t1 WHERE rowid GLOB '1*' ORDER BY rowid;
;
;CREATE TABLE t8(x);
;INSERT INTO t8 VALUES('abcdef');
;INSERT INTO t8 VALUES('ghijkl');
;INSERT INTO t8 VALUES('mnopqr');
;SELECT 1, x FROM t8 WHERE x LIKE '%h%';
;SELECT 2, x FROM t8 WHERE x LIKE '%h%' ESCAPE 'x';
;
;SELECT 1, x FROM t8 WHERE x LIKE '%h%';
;SELECT 2, x FROM t8 WHERE x LIKE '%h%' ESCAPE 'x';
;
;
;
;