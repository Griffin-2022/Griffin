# name: test/sql/delete/test_delete.test
# description: Test deletions
# group: [delete]

;
CREATE TABLE a(i INTEGER);

;
INSERT INTO a VALUES (42);

;
SELECT COUNT(*) FROM a;
;
1

# delete everything
;
DELETE FROM a;

;
SELECT COUNT(*) FROM a;
;
0

;
INSERT INTO a VALUES (42);

;
SELECT COUNT(*) FROM a;
;
1

# now test rollback of deletion
;
BEGIN TRANSACTION

;
DELETE FROM a;

;
SELECT COUNT(*) FROM a;
;
0

;
ROLLBACK

;
SELECT COUNT(*) FROM a;
;
1

