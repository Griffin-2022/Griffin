# name: test/sql/alter/drop_col/test_drop_col_check.test
# description: Test ALTER TABLE DROP COLUMN: DROP COLUMN with check constraint
# group: [drop_col]

;
CREATE TABLE test(i INTEGER, j INTEGER CHECK(j < 10))

;
INSERT INTO test VALUES (1, 1), (2, 2)

;
SELECT * FROM test
;
1
1
2
2

;
ALTER TABLE test DROP COLUMN j

;
INSERT INTO test VALUES (3)

;
SELECT * FROM test
;
1
2
3

;
CREATE TABLE test2(i INTEGER, j INTEGER CHECK(i+j < 10))

;
INSERT INTO test2 VALUES (1, 1), (2, 2)

;
SELECT * FROM test2
;
1
1
2
2

;
ALTER TABLE test2 DROP COLUMN j

