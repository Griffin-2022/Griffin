# name: test/sql/aggregate/distinct/issue2656.test
# description: Issue #2656: DISTINCT + ORDER produces incorrect result
# group: [distinct]

;
PRAGMA enable_verification

;
CREATE TABLE T (t1 int, t2 int);

;
INSERT INTO t VALUES (1, 1), (1, 2);

;
SELECT DISTINCT t1
FROM T
ORDER BY t1, t2;
;
1

;
SELECT DISTINCT ON (1) t1, t2
FROM T
ORDER BY t1, t2;
;
1	1

;
SELECT DISTINCT t1 FROM T
UNION
SELECT DISTINCT t1 FROM T
ORDER BY t1;
;
1

;
SELECT DISTINCT t1 FROM T
UNION ALL
SELECT DISTINCT t1 FROM T
ORDER BY t1;
;
1
1
