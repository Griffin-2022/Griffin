# name: test/sql/function/generic/case_short_circuit.test
# description: Test correct CASE statement short circuiting
# group: [generic]

;
PRAGMA enable_verification

;
create table t (n text);

;
insert into t values ('1'),('0'),('');

;
select n, case 
when n <> '' and cast(substr(n, 1, 1) as int) <= 0 then '0' 
when n <> '' and cast(substr(n, 1, 1) as int) > 0 then '1' 
else '2'end as x from t
ORDER BY n;
;
(empty)	2
0	0
1	1
