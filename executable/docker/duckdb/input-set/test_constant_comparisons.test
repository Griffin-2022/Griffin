# name: test/sql/filter/test_constant_comparisons.test
# description: Test expressions with constant comparisons
# group: [filter]

;
PRAGMA enable_verification

# Test various simple constant comparisons
# The main point here is to check that the optimizer handles all these cases correctly

;
CREATE TABLE integers(a INTEGER, b INTEGER)

;
INSERT INTO integers VALUES (2, 12)

;
SELECT * FROM integers WHERE 2=2
;
2	12

;
SELECT * FROM integers WHERE 2=3

;
SELECT * FROM integers WHERE 2<>3
;
2	12

;
SELECT * FROM integers WHERE 2<>2

;
SELECT * FROM integers WHERE 2>1
;
2	12

;
SELECT * FROM integers WHERE 2>2

;
SELECT * FROM integers WHERE 2>=2
;
2	12

;
SELECT * FROM integers WHERE 2>=3

;
SELECT * FROM integers WHERE 2<3
;
2	12

;
SELECT * FROM integers WHERE 2<2

;
SELECT * FROM integers WHERE 2<=2
;
2	12

;
SELECT * FROM integers WHERE 2<=1

;
SELECT a=NULL FROM integers
;
NULL

;
SELECT NULL=a FROM integers
;
NULL

;
SELECT * FROM integers WHERE 2 IN (2, 3, 4, 5)
;
2	12

;
SELECT * FROM integers WHERE 2 NOT IN (2, 3, 4, 5)

;
SELECT * FROM integers WHERE 2 IN (((1*2)+(1*0))*1, 3, 4, 5)
;
2	12

;
SELECT * FROM integers WHERE 2 IN ((1+1)*2, 3, 4, 5)

;
SELECT CASE WHEN 1 THEN 13 ELSE 12 END;
;
13

;
SELECT * FROM integers WHERE CASE WHEN 2=2 THEN true ELSE false END;
;
2	12

;
SELECT * FROM integers WHERE CASE WHEN 2=3 THEN true ELSE false END;

