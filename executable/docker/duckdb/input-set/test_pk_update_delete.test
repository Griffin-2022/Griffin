# name: test/sql/constraints/primarykey/test_pk_update_delete.test
# description: PRIMARY KEY and update/delete
# group: [primarykey]

;
CREATE TABLE test (a INTEGER PRIMARY KEY, b INTEGER);

;
INSERT INTO test VALUES (11, 1), (12, 2), (13, 3)

;
UPDATE test SET b=2 WHERE b=3;

;
UPDATE test SET a=a+1 WHERE b=1;

;
UPDATE test SET a=4;

;
SELECT * FROM test;
;
11	1
12	2
13	2

;
DELETE FROM test WHERE a=11

;
SELECT * FROM test ORDER BY a;
;
12	2
13	2

;
INSERT INTO test VALUES (11, 1);

;
SELECT * FROM test ORDER BY a;
;
11	1
12	2
13	2

;
INSERT INTO test VALUES (11, 1);

;
SELECT * FROM test ORDER BY a;
;
11	1
12	2
13	2

;
UPDATE test SET a=4 WHERE b=1;

;
SELECT * FROM test ORDER BY a;
;
4	1
12	2
13	2

;
UPDATE test SET a=NULL WHERE b=1;

;
UPDATE test SET a=NULL;

