# name: test/optimizer/case_simplification.test
# description: Test case simplification
# group: [optimizer]

;
CREATE TABLE test(X INTEGER);

;
PRAGMA explain_output = OPTIMIZED_ONLY;

;
EXPLAIN SELECT CASE WHEN 1=1 THEN X+1 ELSE X+2 END FROM test
;

;
EXPLAIN SELECT X+1 FROM test
;

;
EXPLAIN SELECT CASE WHEN 1=0 THEN X+1 ELSE X+2 END FROM test
;

;
EXPLAIN SELECT X+2 FROM test
;

;
EXPLAIN SELECT CASE WHEN NULL>3 THEN X+1 ELSE X+2 END FROM test
;

;
EXPLAIN SELECT X+2 FROM test
;

