# name: test/sql/function/string/test_bit_length.test
# description: BIT_LENGTH test
# group: [string]

;
PRAGMA enable_verification

# test on scalars
;
select BIT_LENGTH(NULL), BIT_LENGTH(''), BIT_LENGTH('$'), BIT_LENGTH('¬¢'), BIT_LENGTH('‚Ç¨'), BIT_LENGTH('êçà')
;
NULL	0	8	16	24	32

# test on tables
;
CREATE TABLE strings(a STRING, b STRING)

;
INSERT INTO strings VALUES ('', 'Zero'), ('$', NULL), ('¬¢','Two'), ('‚Ç¨', NULL), ('êçà','Four')

;
select BIT_LENGTH(a) FROM strings
;
0
8
16
24
32

;
select BIT_LENGTH(b) FROM strings
;
32
NULL
24
NULL
32

;
select BIT_LENGTH(a) FROM strings WHERE b IS NOT NULL
;
0
16
32

# test incorrect usage
;
select BIT_LENGTH()

;
select BIT_LENGTH(1, 2)

