# name: test/sql/function/string/test_format.test
# description: Test format
# group: [string]

;
PRAGMA enable_verification

# format without format specifiers
;
SELECT format('hello'), format(NULL)
;
hello	NULL

# format strings
;
SELECT format('{}', 'hello'), format('{}: {}', 'hello', 'world')
;
hello	hello: world

# format strings with NULL values
;
SELECT format('{}', NULL), format(NULL, 'hello', 'world')
;
NULL	NULL

# booleans
;
SELECT format('{} {}', TRUE, FALSE)
;
true false

# integers
;
SELECT format('{}', 33), format('{} + {} = {}', 3, 5, 3 + 5)
;
33	3 + 5 = 8

# exotic types
# dates, times and timestamps are strings
;
SELECT format('{} {} = {}', DATE '1992-01-01', TIME '12:01:00', TIMESTAMP '1992-01-01 12:01:00')
;
1992-01-01 12:01:00 = 1992-01-01 12:01:00

# blob
;
SELECT format('{}', BLOB '\x00hello')
;
\x00hello

# hugeint
;
SELECT format('{}', 120381902481294715712::HUGEINT)
;
120381902481294715712

# decimal
;
SELECT format('{:.3f}', '1.234'::DECIMAL)
;
1.234

# integers with special formatting specifiers
;
SELECT format('{:04d}', 33), format('{} {:02d}:{:02d}:{:02d} {}', 'time', 12, 3, 16, 'AM'), format('{:10d}', 1992)
;
0033	time 12:03:16 AM	      1992

# numeric input of arguments
;
SELECT format('{1} {1} {0} {0}', 1, 2)
;
2 2 1 1

# incorrect number of parameters
# too few parameters
;
SELECT format('{}')

;
SELECT format('{} {}', 'hello')

# excess parameters are ignored
;
SELECT format('{}', 'hello', 'world')
;
hello

# incorrect types
;
SELECT format('{:s}', 42)

;
SELECT format('{:d}', 'hello')

