# name: test/sql/constraints/check/check_struct.test
# description: CHECK constraint on structs
# group: [check]

;
PRAGMA enable_verification

;
CREATE TABLE tbl(t ROW(t INTEGER) CHECK(t.t=42));

;
INSERT INTO tbl VALUES ({'t': 43})

;
INSERT INTO tbl VALUES ({'t': 42})

;
DROP TABLE tbl;

# we can also do this while referencing the table name
;
CREATE TABLE tbl(t ROW(t INTEGER) CHECK(tbl.t.t=42));

;
INSERT INTO tbl VALUES ({'t': 43})

;
INSERT INTO tbl VALUES ({'t': 42})
