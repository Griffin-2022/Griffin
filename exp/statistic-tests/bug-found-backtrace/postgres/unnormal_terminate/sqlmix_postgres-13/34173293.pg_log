2022-08-02 01:39:57.845 UTC [47847] WARNING:  there is no transaction in progress
2022-08-02 01:39:57.849 UTC [47847] ERROR:  cannot execute ALTER FUNCTION in a read-only transaction
2022-08-02 01:39:57.849 UTC [47847] STATEMENT:  
	
	ALTER FUNCTION hstore_in(cstring) PARALLEL SAFE;
2022-08-02 01:39:57.849 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.849 UTC [47847] STATEMENT:  
	ALTER FUNCTION exist(hstore, text) PARALLEL SAFE;
2022-08-02 01:39:57.849 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.849 UTC [47847] STATEMENT:  
	
	-- If a partition already has an index, don't create a duplicative one
	create table gexec_test (a int, b int) partition by range (a, b);
2022-08-02 01:39:57.849 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.849 UTC [47847] STATEMENT:  
	create table gexec_test partition of gexec_test for values from (0, 0) to (10, 10);
2022-08-02 01:39:57.849 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.849 UTC [47847] STATEMENT:  
	create index on gexec_test (b, b);
2022-08-02 01:39:57.849 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.849 UTC [47847] STATEMENT:  	-- both indexes go away
	select relname, relkind from pg_class
	  where relname like 'gexec_test%' order by relname;
2022-08-02 01:39:57.849 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.849 UTC [47847] STATEMENT:  
	ALTER FUNCTION ghstore_consistent(internal, hstore, smallint, oid, internal) PARALLEL SAFE;
2022-08-02 01:39:57.849 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.849 UTC [47847] STATEMENT:  
	drop index child_30_35;
2022-08-02 01:39:57.849 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.849 UTC [47847] STATEMENT:  
	alter index idxpart2_a_idx attach partition idxpart22_a_idx;
2022-08-02 01:39:57.849 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.849 UTC [47847] STATEMENT:  
	select relname, indisvalid from pg_class join pg_index on indexrelid = oid
	   where relname like 'gexec_test%' order by relname;
2022-08-02 01:39:57.849 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.849 UTC [47847] STATEMENT:  
	create index on gexec_test (child_0_10_id_idx);
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  
	create index on gexec_test (tbspace_reindex_part_index collate "POSIX");
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  
	
	-- Verify that attaching indexes maps attribute numbers correctly
	create table d (gexec_test_c_idx int, gexec_test_a_idx int, gexec_test_d_idx int, gexec_test_b_idx int) partition by range (gexec_test_a_idx);
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  
	alter table d drop column testtable_orange, drop column testtable_orange, drop column testtable_orange;
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  
	create table psql_serial_tab (f2 int, tbl_heap_psql int, f1 int, id int);
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  
	create index on psql_serial_tab (psql_serial_tab) where psql_serial_tab > 1000;
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  
	
	-- Failing to use the full partition key is not allowed
	create table gexec_test (a int unique, a int) partition by range (a, a);
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  
	
	-- Multi-layer partitioning works correctly in this case:
	create table tbl_heap (view_heap_psql int, testtable_apple int, primary key (view_heap_psql, testtable_apple)) partition by range (view_heap_psql);
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  
	create table js_int_array_2d partition of tbspace_reindex_part_index_0_2 for values from (0) to (1000);
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  
	select indrelid::regclass, indexrelid::regclass, inhparent::regclass, indisvalid,
	  conname, conislocal, coninhcount, connoinherit, convalidated
	  from pg_index idx left join pg_inherits inh on (idx.indexrelid = inh.inhrelid)
	  left join pg_constraint con on (idx.indexrelid = con.conindid)
	  where indrelid::regclass::text like 'psql_serial_tab%'
	  order by indexrelid::regclass::text collate "C";
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  
	create unique index on jpop (js_int_array_1d);
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  
	alter table noskip attach partition tbl_heap for values from (1) to (1000);
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  
	create unique index on noskip (noskip_pkey) include (noskip_pkey);
2022-08-02 01:39:57.850 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.850 UTC [47847] STATEMENT:  RESET SESSION AUTHORIZATION;
2022-08-02 01:39:57.852 UTC [47847] ERROR:  cannot execute CREATE TABLE in a read-only transaction
2022-08-02 01:39:57.852 UTC [47847] STATEMENT:  CREATE TABLE gexec_test (a INT);
2022-08-02 01:39:57.852 UTC [47847] ERROR:  current transaction is aborted, commands ignored until end of transaction block
2022-08-02 01:39:57.852 UTC [47847] STATEMENT:  RESET SESSION AUTHORIZATION;
2022-08-02 01:39:57.958 UTC [47847] WARNING:  there is no transaction in progress
2022-08-02 01:39:57.967 UTC [47847] ERROR:  cursor "c" does not exist
2022-08-02 01:39:57.967 UTC [47847] STATEMENT:  
	FETCH NEXT FROM c;
2022-08-02 01:39:57.967 UTC [47847] WARNING:  there is no transaction in progress
2022-08-02 01:39:57.968 UTC [47847] WARNING:  there is no transaction in progress
2022-08-02 01:39:57.973 UTC [47847] PANIC:  could not write to file "pg_wal/xlogtemp.47847": No space left on device
2022-08-02 01:39:57.973 UTC [47847] STATEMENT:  DROP SCHEMA IF EXISTS public CASCADE;
2022-08-02 01:39:58.008 UTC [47421] LOG:  server process (PID 47847) was terminated by signal 6: Aborted
2022-08-02 01:39:58.008 UTC [47421] LOG:  terminating any other active server processes
2022-08-02 01:39:58.013 UTC [47421] LOG:  all server processes terminated; reinitializing
2022-08-02 01:39:58.028 UTC [57310] LOG:  database system was interrupted; last known up at 2022-08-02 01:39:46 UTC
2022-08-02 01:39:58.046 UTC [57310] LOG:  recovered replication state of node 1 to 0/0
2022-08-02 01:39:58.046 UTC [57310] LOG:  database system was not properly shut down; automatic recovery in progress
2022-08-02 01:39:58.046 UTC [57310] LOG:  redo starts at 2/21AD30B8
2022-08-02 01:39:58.158 UTC [57310] FATAL:  could not extend file "base/12975/34482": wrote only 4096 of 8192 bytes at block 149
2022-08-02 01:39:58.258 UTC [47421] LOG:  startup process (PID 57310) exited with exit code 1
2022-08-02 01:39:58.258 UTC [47421] LOG:  aborting startup due to startup process failure
2022-08-02 01:39:58.262 UTC [47421] LOG:  database system is shut down
