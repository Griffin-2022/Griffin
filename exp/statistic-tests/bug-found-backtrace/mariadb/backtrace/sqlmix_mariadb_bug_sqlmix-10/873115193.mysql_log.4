| | | | | | | | <que_eval_sql
| | | | | | | | >que_eval_sql
| | | | | | | | | que_eval_sql: query: PROCEDURE DROP_TABLE() IS
iid CHAR;
DECLARE CURSOR idx IS
SELECT ID FROM SYS_INDEXES
WHERE TABLE_ID=:id FOR UPDATE;
BEGIN
DELETE FROM SYS_TABLES WHERE ID=:id;
DELETE FROM SYS_COLUMNS WHERE TABLE_ID=:id;
OPEN idx;
WHILE 1 = 1 LOOP
  FETCH idx INTO iid;
  IF (SQL % NOTFOUND) THEN EXIT; END IF;
  DELETE FROM SYS_INDEXES WHERE CURRENT OF idx;
  DELETE FROM SYS_FIELDS WHERE INDEX_ID=iid;
END LOOP;
CLOSE idx;
END;

| | | | | | | | | >dict_table_open_on_name
| | | | | | | | | | dict_table_open_on_name: table: 'SYS_INDEXES'
| | | | | | | | | <dict_table_open_on_name
| | | | | | | | | >dict_table_open_on_name
| | | | | | | | | | dict_table_open_on_name: table: 'SYS_TABLES'
| | | | | | | | | <dict_table_open_on_name
| | | | | | | | | >dict_table_open_on_name
| | | | | | | | | | dict_table_open_on_name: table: 'SYS_COLUMNS'
| | | | | | | | | <dict_table_open_on_name
| | | | | | | | | >dict_table_open_on_name
| | | | | | | | | | dict_table_open_on_name: table: 'SYS_INDEXES'
| | | | | | | | | <dict_table_open_on_name
| | | | | | | | | >dict_table_open_on_name
| | | | | | | | | | dict_table_open_on_name: table: 'SYS_FIELDS'
| | | | | | | | | <dict_table_open_on_name
| | | | | | | | | ib_que: Execute 9 (QUERY THREAD) at 0x629002bfa850
| | | | | | | | | ib_que: Execute 1044 (STORED PROCEDURE) at 0x629002bfa8f8
| | | | | | | | | ib_que: Execute 4 (UPDATE) at 0x629002bf8130
| | | | | | | | | >row_upd_step
| | | | | | | | | <row_upd_step
| | | | | | | | | ib_que: Execute 6 (SELECT) at 0x629002bf84a8
| | | | | | | | | >btr_cur_search_to_nth_level
| | | | | | | | | | mutex: mutex (0x69a4520) locking
| | | | | | | | | | mutex: mutex (0x69a4520) locked
| | | | | | | | | | mutex: mutex (0x69a4520) unlocking
| | | | | | | | | <btr_cur_search_to_nth_level
| | | | | | | | | >btr_cur_search_to_nth_level
| | | | | | | | | | mutex: mutex (0x69a4520) locking
| | | | | | | | | | mutex: mutex (0x69a4520) locked
| | | | | | | | | | mutex: mutex (0x69a4520) unlocking
| | | | | | | | | <btr_cur_search_to_nth_level
| | | | | | | | | ib_que: Execute 4 (UPDATE) at 0x629002bf8130
| | | | | | | | | >row_upd_step
| | | | | | | | | | >row_upd
| | | | | | | | | | | row_upd: table: SYS_TABLES
| | | | | | | | | | | row_upd: info bits in update vector: 0x0
| | | | | | | | | | | row_upd: foreign_id: NULL
| | | | | | | | | | | mutex: mutex (0x69a4520) locking
| | | | | | | | | | | mutex: mutex (0x69a4520) locked
| | | | | | | | | | | mutex: mutex (0x69a4520) unlocking
| | | | | | | | | | | mutex: mutex (0x69533c0) locking
| | | | | | | | | | | mutex: mutex (0x69533c0) locked
| | | | | | | | | | | mutex: mutex (0x69533c0) unlocking
| | | | | | | | | | | >explain_filename
| | | | | | | | | | | | enter: from 'SYS_TABLES'
| | | | | | | | | | | | >add_identifier
| | | | | | | | | | | | | info: conv 'SYS_TABLES' -> 'SYS_TABLES'
| | | | | | | | | | | | <add_identifier
| | | | | | | | | | | | exit: to '`SYS_TABLES`'
| | | | | | | | | | | <explain_filename
| | | | | | | | | | | exit: delete-mark clust `SYS_TABLES` (1) by 0xb549: RECORD(info_bits=32, 10 fields): {[17]cgbawcuh/@T@@ff11(0x63676261776375682F4054404066663131),[6]     B(0x00000000B542),[7]    A$ (0xC7000002412405),[8]        (0x0000000000001817),[4]    (0x80000001),[4]   !(0x00000021),[8]        (0x0000000000000000),[4]   P(0x00000050),NULL,[4]    (0x00001808)}
| | | | | | | | | | | mutex: mutex (0x69533c0) locking
| | | | | | | | | | | mutex: mutex (0x69533c0) locked
| | | | | | | | | | | mutex: mutex (0x69533c0) unlocking
| | | | | | | | | | | >btr_cur_search_to_nth_level
| | | | | | | | | | | | mutex: mutex (0x69a4520) locking
| | | | | | | | | | | | mutex: mutex (0x69a4520) locked
| | | | | | | | | | | | mutex: mutex (0x69a4520) unlocking
| | | | | | | | | | | | mutex: mutex (0x69a4520) locking
| | | | | | | | | | | | mutex: mutex (0x69a4520) locked
| | | | | | | | | | | | mutex: mutex (0x69a4520) unlocking
| | | | | | | | | | | <btr_cur_search_to_nth_level
| | | | | | | | | | | mutex: mutex (0x69533c0) locking
| | | | | | | | | | | mutex: mutex (0x69533c0) locked
| | | | | | | | | | | mutex: mutex (0x69533c0) unlocking
| | | | | | | | | | <row_upd
| | | | | | | | | <row_upd_step
| | | | | | | | | ib_que: Execute 6 (SELECT) at 0x629002bf84a8
| | | | | | | | | ib_que: Execute 4 (UPDATE) at 0x629002bf8130
| | | | | | | | | >row_upd_step
| | | | | | | | | <row_upd_step
| | | | | | | | | ib_que: Execute 1044 (STORED PROCEDURE) at 0x629002bfa8f8
| | | | | | | | | ib_que: Execute 4 (UPDATE) at 0x629002bf8a60
| | | | | | | | | >row_upd_step
| | | | | | | | | <row_upd_step
| | | | | | | | | ib_que: Execute 6 (SELECT) at 0x629002bf8de0
| | | | | | | | | >btr_cur_search_to_nth_level
| | | | | | | | | | mutex: mutex (0x69a4520) locking
| | | | | | | | | | mutex: mutex (0x69a4520) locked
| | | | | | | | | | mutex: 