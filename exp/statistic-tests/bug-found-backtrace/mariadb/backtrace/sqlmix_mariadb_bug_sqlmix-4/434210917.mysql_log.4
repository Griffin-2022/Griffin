do_command: THD::enter_stage: starting at /root/mariadb/sql/mysqld.cc:1203
vio_read: enter: sd: 40  buf: 0x6290000dc288  size: 142
vio_read: read_data: Memory: 0x6290000dc288  Bytes: (142)
03 0A 23 20 54 68 69 73 20 77 69 6C 6C 20 69 6E 6A 65 63 74 20 61 20 73 6D 61 
6C 6C 20 73 6C 65 65 70 20 74 68 61 74 20 68 65 6C 70 73 20 74 72 69 67 67 65 
72 20 74 68 65 20 72 61 63 65 2E 20 49 20 64 69 64 20 6E 6F 74 20 6D 61 6E 61 
67 65 0A 23 20 74 6F 20 63 72 65 61 74 65 20 61 20 6E 6F 6E 2D 73 6C 65 65 70 
69 6E 67 20 76 65 72 73 69 6F 6E 20 77 69 74 68 20 64 65 62 75 67 5F 73 79 6E 
63 20 66 6F 72 20 74 68 69 73 3B 00 
vio_read: exit: 142
fetch_command: info: Command on TCP/IP = 3 (Query)
my_net_set_read_timeout: enter: timeout: 30
dispatch_command: info: command: 3 Query
reset_killed: mutex: LOCK_thd_data (0x62b00015ffe8) locking
reset_killed: mutex: LOCK_thd_data (0x62b00015ffe8) locked
reset_killed: mutex: LOCK_thd_data (0x62b00015ffe8) unlocking
alloc_root: enter: root: 0x62b0001641a8
alloc_root: exit: ptr: 0x6290000e62a8
dispatch_command: mutex: LOCK_thd_data (0x62b00015ffe8) locking
dispatch_command: mutex: LOCK_thd_data (0x62b00015ffe8) locked
dispatch_command: mutex: LOCK_thd_data (0x62b00015ffe8) unlocking
dispatch_command: query: # This will inject a small sleep that helps trigger the race. I did not manage
# to create a non-sleeping version with debug_sync for this;
alloc_root: enter: root: 0x62b0001641a8
alloc_root: exit: ptr: 0x6290000e6398
LEX::start: info: This: 0x62b0001625b8 thd_arg->lex: 0x62b0001625b8
st_select_lex_node::set_linkage: info: node: 0x62b000162e88  linkage: 0->0
st_select_lex_node::set_linkage: info: node: 0x62b000162690  linkage: 4->0
st_select_lex_node::set_linkage: info: node: 0x62b000162690  linkage: 0->4
reset_current_stmt_binlog_format_row: debug: temporary_tables: no, in_sub_stmt: no, system_thread: NON_SYSTEM_THREAD
mysql_execute_command: THD::enter_stage: Query end at /root/mariadb/sql/sql_parse.cc:6001
st_select_lex::cleanup(): info: select: 0x62b000162e88 (1)  JOIN 0x0
mysql_execute_command: THD::enter_stage: Commit at /root/mariadb/sql/sql_parse.cc:6047
close_thread_tables: THD::enter_stage: closing tables at /root/mariadb/sql/sql_base.cc:786
mysql_execute_command: THD::enter_stage: Starting cleanup at /root/mariadb/sql/sql_parse.cc:6113
mysql_parse: THD::enter_stage: Freeing items at /root/mariadb/sql/sql_parse.cc:8045
lex_end: enter: lex: 0x62b0001625b8
dispatch_command: info: query ready
dispatch_command: THD::enter_stage: Updating status at /root/mariadb/sql/sql_parse.cc:2398
Protocol::net_send_ok: info: affected_rows: 0  id: 0  status: 2  warning_count: 0
Protocol::net_send_ok: packet_header: Memory: 0x7efd70a7f960  Bytes: (4)
07 00 00 01 
vio_is_blocking: exit: 0
vio_write: enter: sd: 40  buf: 0x6290000dc288  size: 11
vio_write: exit: 11
Protocol::net_send_ok: info: OK sent, so no more error sending allowed
killed_errno: enter: killed: 0  killed_errno: 0
dispatch_command: THD::enter_stage: Reset for next command at /root/mariadb/sql/sql_parse.cc:2430
dispatch_command: mutex: LOCK_thd_data (0x62b00015ffe8) locking
dispatch_command: mutex: LOCK_thd_data (0x62b00015ffe8) locked
dispatch_command: mutex: LOCK_thd_data (0x62b00015ffe8) unlocking
reset_killed: mutex: LOCK_thd_data (0x62b00015ffe8) locking
reset_killed: mutex: LOCK_thd_data (0x62b00015ffe8) locked
reset_killed: mutex: LOCK_thd_data (0x62b00015ffe8) unlocking
free_root: enter: root: 0x62b0001641a8  flags: 1
my_net_set_read_timeout: enter: timeout: 28800
vio_is_blocking: exit: 0
vio_read: enter: sd: 40  buf: 0x6290000dc288  size: 4
vio_read: read_data: Memory: 0x6290000dc288  Bytes: (4)
1D 00 00 00 
vio_read: exit: 4
do_command: packet_header: Memory: 0x6290000dc288  Bytes: (4)
1D 00 00 00 
do_command: THD::enter_stage: starting at /root/mariadb/sql/mysqld.cc:1203
vio_read: enter: sd: 40  buf: 0x6290000dc288  size: 29
vio_read: read_data: Memory: 0x6290000dc288  Bytes: (29)
03 0A 49 4E 53 45 52 54 20 49 4E 54 4F 20 61 20 56 41 4C 55 45 53 20 28 33 34 
29 3B 00 
vio_read: exit: 29
fetch_command: info: Command on TCP/IP = 3 (Query)
my_net_set_read_timeout: enter: timeout: 30
dispatch_command: info: command: 3 Query
reset_killed: mutex: LOCK_thd_data (0x62b00015ffe8) locking
reset_killed: mutex: LOCK_thd_data (0x62b00015ffe8) locked
reset_killed: mutex: LOCK_thd_data (0x62b00015ffe8) unlocking
alloc_root: enter: root: 0x62b0001641a8
alloc_root: exit: ptr: 0x6290000e62a8
dispatch_command: mutex: LOCK_thd_data (0x62b00015ffe8) locking
dispatch_command: mutex: LOCK_thd_data (0x62b00015ffe8) locked
dispatch_command: mutex: LOCK_thd_data (0x62b00015ffe8) unlocking
dispatch_command: query: INSERT INTO a VALUES (34);
alloc_root: enter: root: 0x62b0001641a8
alloc_root: exit: ptr: 0x6290000e6328
LEX::start: info: This: 0x62b0001625b8 thd_arg->lex: 0x62b0001625b8
st_select_lex_node::set_linkage: info: node: 0x62b000162e88  linkage: 0->0
st_select_lex_node::set_linkage: info: node: 0x62b000162690  linkage: 4->0
st_select_lex_node::set_linkage: info: node: 0x62b000162690  linkage: 0->4
reset_current_stmt_binlog_format_row: debug: temporary_tables: no, in_sub_stmt: no, system_thread: NON_SYSTEM_THREAD
free_root: enter: root: 0x62b000164428  flags: 0
my_free: my: ptr: 0x61d001407908
my_free: info: global thd memory_used: -116696  size: -2064
LEX::main_select_push: info: service: 0
LEX::push_select: info: Top Select was 0x0 (0)  depth: 0  pushed: 0x62b000162e88 (1)
LEX::push_context: info: Context: 0x62b000162ed0 Select: 0x62b000162e88 (1)
alloc_root: enter: root: 0x62b0001641a8
alloc_root: exit: ptr: 0x6290000e6350
alloc_root: enter: root: 0x62b0001641a8
alloc_root: exit: ptr: 0x6290000e6368
alloc_root: enter: root: 0x62b0001641a8
alloc_root: exit: 