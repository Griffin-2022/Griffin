| | | | | | | | | | <lock_tables_check
| | | | | | | | | | >get_lock_data
| | | | | | | | | | | info: count 1
| | | | | | | | | | | >alloc_root
| | | | | | | | | | | | enter: root: 0x62b0002de1a8
| | | | | | | | | | | | exit: ptr: 0x629000906e90
| | | | | | | | | | | <alloc_root
| | | | | | | | | | | >innobase_trx_init
| | | | | | | | | | | | >intern_sys_var_ptr
| | | | | | | | | | | | <intern_sys_var_ptr
| | | | | | | | | | | <innobase_trx_init
| | | | | | | | | | | info: sql_lock->table_count 1 sql_lock->lock_count 0
| | | | | | | | | | <get_lock_data
| | | | | | | | | | >mysql_lock_tables(sql_lock)
| | | | | | | | | | | THD::enter_stage: System lock at /root/mariadb/sql/lock.cc:337
| | | | | | | | | | | >lock_external
| | | | | | | | | | | | info: count 1
| | | | | | | | | | | | >handler::ha_external_lock
| | | | | | | | | | | | | >ha_innobase::external_lock
| | | | | | | | | | | | | | enter: lock_type: 1
| | | | | | | | | | | | | | >ha_innobase::update_thd
| | | | | | | | | | | | | | | ha_innobase::update_thd: user_thd: 0x62b0002d8288 -> 0x62b0002d8288
| | | | | | | | | | | | | | | >innobase_trx_init
| | | | | | | | | | | | | | | | >intern_sys_var_ptr
| | | | | | | | | | | | | | | | <intern_sys_var_ptr
| | | | | | | | | | | | | | | <innobase_trx_init
| | | | | | | | | | | | | | <ha_innobase::update_thd
| | | | | | | | | | | | | | >trans_register_ha
| | | | | | | | | | | | | | | enter: stmt
| | | | | | | | | | | | | | <trans_register_ha
| | | | | | | | | | | | | <ha_innobase::external_lock
| | | | | | | | | | | | <handler::ha_external_lock
| | | | | | | | | | | <lock_external
| | | | | | | | | | | THD::enter_stage: table lock at /root/mariadb/sql/lock.cc:342
| | | | | | | | | | | THD::enter_stage: (null) at /root/mariadb/sql/lock.cc:357
| | | | | | | | | | <mysql_lock_tables(sql_lock)
| | | | | | | | | <mysql_lock_tables(tables)
| | | | | | | | | >fix_session_vcol_expr
| | | | | | | | | <fix_session_vcol_expr
| | | | | | | | | >THD::decide_logging_format
| | | | | | | | | | info: Query: TRUNCATE TABLE view_role_test
| | | | | | | | | | info: binlog_format: 0
| | | | | | | | | | info: current_stmt_binlog_format: 1
| | | | | | | | | | >get_stmt_unsafe_flags
| | | | | | | | | | <get_stmt_unsafe_flags
| | | | | | | | | | info: lex->get_stmt_unsafe_flags(): 0x0
| | | | | | | | | | >Rpl_filter::db_ok
| | | | | | | | | | <Rpl_filter::db_ok
| | | | | | | | | | info: decision: no logging since mysql_bin_log.is_open() = 0 and (options & OPTION_BIN_LOG) = 0x40000 and binlog_format = 0 and binlog_filter->db_ok(db) = 1
| | | | | | | | | <THD::decide_logging_format
| | | | | | | | <lock_tables
| | | | | | | <open_and_lock_tables
| | | | | | | >wait_while_table_is_used
| | | | | | | | enter: table: 'view_role_test'  share: 0x61c00011b928  db_stat: 33
| | | | | | | | >MDL_context::upgrade_shared_lock
| | | | | | | | | enter: old_type: MDL_EXCLUSIVE  new_type: MDL_EXCLUSIVE  lock_wait_timeout: 86400.000000
| | | | | | | | <MDL_context::upgrade_shared_lock
| | | | | | | | info: Adding mdl lock MDL_EXCLUSIVE to MDL_EXCLUSIVE
| | | | | | | | mutex: element->LOCK_table_share (0x61b00023aac0) locking
| | | | | | | | mutex: element->LOCK_table_share (0x61b00023aac0) locked
| | | | | | | | mutex: LOCK_table_cache (0x61e000000c88) locking
| | | | | | | | mutex: LOCK_table_cache (0x61e000000c88) locked
| | | | | | | | mutex: LOCK_table_cache (0x61e000000c88) unlocking
| | | | | | | | mutex: LOCK_table_cache (0x61e000000d98) locking
| | | | | | | | mutex: LOCK_table_cache (0x61e000000d98) locked
| | | | | | | | mutex: LOCK_table_cache (0x61e000000d98) unlocking
| | | | | | | | mutex: LOCK_table_cache (0x61e000000ea8) locking
| | | | | | | | mutex: LOCK_table_cache (0x61e000000ea8) locked
| | | | | | | | mutex: LOCK_table_cache (0x61e000000ea8) unlocking
| | | | | | | | mutex: LOCK_table_cache (0x61e000000fb8) locking
| | | | | | | | mutex: LOCK_table_cache (0x61e000000fb8) locked
| | | | | | | | mutex: LOCK_table_cache (0x61e000000fb8) unlocking
| | | | | | | | mutex: LOCK_table_cache (0x61e0000010c8) locking
| | | | | | | | mutex: LOCK_table_cache (0x61e0000010c8) locked
| | | | | | | | mutex: LOCK_table_cache (0x61e0000010c8) unlocking
| | | | | | | | mutex: LOCK_table_cache (0x61e0000011d8) locking
| | | | | | | | mutex: LOCK_table_cache (0x61e0000011d8) locked
| | | | | | | | mutex: LOCK_table_cache (0x61e0000011d8) unlocking
| | | | | | | | mutex: LOCK_table_cache (0x61e0000012e8) locking
| | | | | | | | mutex: LOCK_table_cache (0x61e0000012e8) locked
| | | | | | | | mutex: LOCK_table_cache (0x61e0000012e8) unlocking
| | | | | | | | mutex: LOCK_table_cache (0x61e0000013f8) locking
| | | | | | | | mutex: LOCK_table_cache (0x61e0000013f8) locked
| | | | | | | | mutex: LOCK_table_cache (0x61e0000013f8) unlocking
| | | | | | | | mutex: element->LOCK_table_share (0x61b00023aac0) unlocking
| | | | | | | | mutex: element->LOCK_table_share (0x61b00023aac0) locking
| | | | | | | | mutex: element->LOCK_table_share (0x61b00023aac0) locked
| | | | | | | | mutex: element->LOCK_table_share (0x61b00023aac0) unlocking
| | | | | | | | >innobase_trx_init
| | | | | | | | | >intern_sys_var_ptr
| | | | | | | | | <intern_sys_var_ptr
| | | | | | | | <innobase_trx_init
| | | | | | | <wait_while_table_is_used
| | | | | | | >ha_innobase::truncate
| | | | | | | | >ha_innobase::update_thd
| | | | | | | | | ha_innobase::update_thd: user_thd: 0x62b0002d8288 -> 0x62b0002d8288
| | | | | | | | | >innobase_trx_init
| | | | | | | | | | >intern_sys_var_ptr
| | | | | | | | | | <intern_sys_var_ptr
| | | | | | 